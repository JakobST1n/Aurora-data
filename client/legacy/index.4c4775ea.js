import{_ as t,a as n,b as e,c as r,i as a,s as c,d as o,S as s,e as i,f,t as u,g as l,h as v,j as h,k as p,l as d,m,n as g,o as w,p as y,q as E,r as D,u as P,v as $,w as b,x,y as I,z as R,A as V,B as A,C,D as N,E as j,F as S,G as k}from"./client.467aa998.js";function M(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function _(t){var n,e,r,a,c,o,s,P,$,b,x,I,R,V,A,C,N,j,S,k,M,_,H,J,K,B,O,q,F,z,Z,G,L,Q,U,W,X,Y,tt,nt,et,rt,at,ct,ot,st,it,ft;return{c:function(){n=i("div"),e=i("div"),r=i("div"),a=i("i"),c=f(),o=i("h1"),s=u(T),P=f(),$=i("div"),b=i("p"),x=u(t[0]),I=f(),R=i("div"),V=i("h2"),A=u("KP "),C=u(t[1]),N=f(),j=i("p"),S=i("span"),k=u("↑ KP "),M=u(t[3]),_=f(),H=i("span"),J=u("↓ KP "),K=u(t[2]),B=f(),O=i("div"),q=i("div"),F=i("p"),z=u("BZ"),Z=f(),G=i("p"),L=u(t[4]),Q=f(),U=i("div"),W=i("p"),X=u("Probability"),Y=f(),tt=i("p"),nt=u("10%"),et=f(),rt=i("div"),at=i("p"),ct=u("Clouds"),ot=f(),st=i("p"),it=u(t[5]),ft=u("%"),this.h()},l:function(i){n=l(i,"DIV",{class:!0});var f=v(n);e=l(f,"DIV",{class:!0});var u=v(e);r=l(u,"DIV",{class:!0});var m=v(r);a=l(m,"I",{class:!0}),v(a).forEach(h),c=p(m),o=l(m,"H1",{class:!0});var g=v(o);s=d(g,T),g.forEach(h),m.forEach(h),P=p(u),$=l(u,"DIV",{class:!0});var w=v($);b=l(w,"P",{});var y=v(b);x=d(y,t[0]),y.forEach(h),w.forEach(h),I=p(u),R=l(u,"DIV",{class:!0});var E=v(R);V=l(E,"H2",{class:!0});var D=v(V);A=d(D,"KP "),C=d(D,t[1]),D.forEach(h),N=p(E),j=l(E,"P",{});var ut=v(j);S=l(ut,"SPAN",{className:!0});var lt=v(S);k=d(lt,"↑ KP "),M=d(lt,t[3]),lt.forEach(h),_=p(ut),H=l(ut,"SPAN",{className:!0});var vt=v(H);J=d(vt,"↓ KP "),K=d(vt,t[2]),vt.forEach(h),ut.forEach(h),E.forEach(h),B=p(u),O=l(u,"DIV",{class:!0});var ht=v(O);q=l(ht,"DIV",{});var pt=v(q);F=l(pt,"P",{class:!0});var dt=v(F);z=d(dt,"BZ"),dt.forEach(h),Z=p(pt),G=l(pt,"P",{class:!0});var mt=v(G);L=d(mt,t[4]),mt.forEach(h),pt.forEach(h),Q=p(ht),U=l(ht,"DIV",{});var gt=v(U);W=l(gt,"P",{class:!0});var wt=v(W);X=d(wt,"Probability"),wt.forEach(h),Y=p(gt),tt=l(gt,"P",{class:!0});var yt=v(tt);nt=d(yt,"10%"),yt.forEach(h),gt.forEach(h),et=p(ht),rt=l(ht,"DIV",{});var Et=v(rt);at=l(Et,"P",{class:!0});var Dt=v(at);ct=d(Dt,"Clouds"),Dt.forEach(h),ot=p(Et),st=l(Et,"P",{class:!0});var Pt=v(st);it=d(Pt,t[5]),ft=d(Pt,"%"),Pt.forEach(h),Et.forEach(h),ht.forEach(h),u.forEach(h),f.forEach(h),this.h()},h:function(){m(a,"class","symbol fas fa-map-marker-alt svelte-1fdstvw"),m(o,"class","svelte-1fdstvw"),m(r,"class","weatherCurrent-data-location svelte-1fdstvw"),m($,"class","weatherCurrent-data-date"),m(V,"class","svelte-1fdstvw"),m(S,"classname","pr-2"),m(H,"classname","pl-2"),m(R,"class","weatherCurrent-data-kp svelte-1fdstvw"),m(F,"class","svelte-1fdstvw"),m(G,"class","svelte-1fdstvw"),m(W,"class","svelte-1fdstvw"),m(tt,"class","svelte-1fdstvw"),m(at,"class","svelte-1fdstvw"),m(st,"class","svelte-1fdstvw"),m(O,"class","current-details svelte-1fdstvw"),m(e,"class","weatherCurrent-data svelte-1fdstvw"),m(n,"class","weatherCurrent-wrapper svelte-1fdstvw")},m:function(t,i){g(t,n,i),w(n,e),w(e,r),w(r,a),w(r,c),w(r,o),w(o,s),w(e,P),w(e,$),w($,b),w(b,x),w(e,I),w(e,R),w(R,V),w(V,A),w(V,C),w(R,N),w(R,j),w(j,S),w(S,k),w(S,M),w(j,_),w(j,H),w(H,J),w(H,K),w(e,B),w(e,O),w(O,q),w(q,F),w(F,z),w(q,Z),w(q,G),w(G,L),w(O,Q),w(O,U),w(U,W),w(W,X),w(U,Y),w(U,tt),w(tt,nt),w(O,et),w(O,rt),w(rt,at),w(at,ct),w(rt,ot),w(rt,st),w(st,it),w(st,ft)},p:function(t,n){var e=y(n,1)[0];1&e&&E(x,t[0]),2&e&&E(C,t[1]),8&e&&E(M,t[3]),4&e&&E(K,t[2]),16&e&&E(L,t[4]),32&e&&E(it,t[5])},i:D,o:D,d:function(t){t&&h(n)}}}var T="The earth";function H(t,n,e){var r,a,c=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(a,c){function o(t){try{i(r.next(t))}catch(t){c(t)}}function s(t){try{i(r.throw(t))}catch(t){c(t)}}function i(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}i((r=r.apply(t,n||[])).next())}))},o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=(Array(),"-"),i="-",f="-",u="-",l="-",v="-";function h(t){r=t.coords.longitude,a=t.coords.latitude,function(t,n){c(this,void 0,void 0,$.mark((function r(){var a,c,h,p,d,m;return $.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=".concat(n,"&lon=").concat(t)).then((function(t){return t.json()}));case 2:return a=r.sent,e(5,v=a.properties.timeseries[0].data.instant.details.cloud_area_fraction),r.t0=e,r.next=7,fetch("https://services.swpc.noaa.gov/products/summary/solar-wind-mag-field.json").then((function(t){return t.json()}));case 7:return r.t1=l=r.sent.Bz,(0,r.t0)(4,r.t1),r.next=11,fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json").then((function(t){return t.json()}));case 11:(c=r.sent).shift(),h=new Date,p=new Date(0,0,0),d=1e3,m=0,c.forEach((function(t,n){t[1]>m&&(m=t[1]),t[1]<d&&(d=t[1]);var r=new Date(t[0]);Math.abs(r.getTime()-h.getTime())<Math.abs(p.getTime()-h.getTime())&&(p=r,e(1,i=t[1]))})),e(2,f=d.toString()),e(3,u=m.toString()),e(0,s=h.getDay()+". "+o[h.getMonth()]+" "+h.getHours()+":"+h.getMinutes());case 21:case"end":return r.stop()}}),r)})))}(r,a)}function p(t){d()}function d(){r=28.283333,a=-15.416667}return P((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(h,p):d()})),[s,i,f,u,l,v]}var J=function(n){t(i,s);var e=M(i);function i(t){var n;return r(this,i),n=e.call(this),a(o(n),t,H,_,c,{}),n}return i}();function K(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function B(t){var n,e,r,a,c,o,s,y,E,P,$,b,x,I,R,V,A,C,N,j,S,k,M,_;return{c:function(){n=i("div"),e=i("div"),r=i("h3"),a=u(t[2]),c=f(),o=i("p"),s=u(t[1]),y=f(),E=i("div"),P=i("h2"),$=u(t[0]),b=f(),x=i("div"),I=i("p"),R=i("i"),V=f(),A=u(t[3]),C=u("°C"),N=f(),j=i("p"),S=i("i"),k=f(),M=u(t[4]),_=u("%"),this.h()},l:function(i){n=l(i,"DIV",{class:!0});var f=v(n);e=l(f,"DIV",{});var u=v(e);r=l(u,"H3",{class:!0});var m=v(r);a=d(m,t[2]),m.forEach(h),c=p(u),o=l(u,"P",{});var g=v(o);s=d(g,t[1]),g.forEach(h),u.forEach(h),y=p(f),E=l(f,"DIV",{class:!0});var w=v(E);P=l(w,"H2",{class:!0});var D=v(P);$=d(D,t[0]),D.forEach(h),b=p(w),x=l(w,"DIV",{});var T=v(x);I=l(T,"P",{});var H=v(I);R=l(H,"I",{class:!0}),v(R).forEach(h),V=p(H),A=d(H,t[3]),C=d(H,"°C"),H.forEach(h),N=p(T),j=l(T,"P",{});var J=v(j);S=l(J,"I",{class:!0}),v(S).forEach(h),k=p(J),M=d(J,t[4]),_=d(J,"%"),J.forEach(h),T.forEach(h),w.forEach(h),f.forEach(h),this.h()},h:function(){m(r,"class","svelte-u548p6"),m(P,"class","svelte-u548p6"),m(R,"class","fas fa-thermometer-half"),m(S,"class","fas fa-cloud"),m(E,"class","data svelte-u548p6"),m(n,"class","prediction-details svelte-u548p6")},m:function(t,i){g(t,n,i),w(n,e),w(e,r),w(r,a),w(e,c),w(e,o),w(o,s),w(n,y),w(n,E),w(E,P),w(P,$),w(E,b),w(E,x),w(x,I),w(I,R),w(I,V),w(I,A),w(I,C),w(x,N),w(x,j),w(j,S),w(j,k),w(j,M),w(j,_)},p:D,i:D,o:D,d:function(t){t&&h(n)}}}function O(t,n,e){var r=n.prediction,a=r.kp,c=r.time.split(" "),o=Number(c[0].split("-")[2])+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][Number(c[0].split("-")[1])],s=c[1].substring(0,5),i=r.temp,f=r.clouds;return t.$$set=function(t){"prediction"in t&&e(5,r=t.prediction)},[a,o,s,i,f,r]}var q=function(n){t(i,s);var e=K(i);function i(t){var n;return r(this,i),n=e.call(this),a(o(n),t,O,B,c,{prediction:5}),n}return i}();function F(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function z(t,n,e){var r=t.slice();return r[18]=n[e],r[20]=e,r}function Z(t){var n;return{c:function(){n=u("Cannot connect to NOAA")},l:function(t){n=d(t,"Cannot connect to NOAA")},m:function(t,e){g(t,n,e)},p:D,i:D,o:D,d:function(t){t&&h(n)}}}function G(t){for(var n,e,r=t[0],a=[],c=0;c<r.length;c+=1)a[c]=L(z(t,r,c));var o=function(t){return x(a[t],1,1,(function(){a[t]=null}))};return{c:function(){for(var t=0;t<a.length;t+=1)a[t].c();n=j()},l:function(t){for(var e=0;e<a.length;e+=1)a[e].l(t);n=j()},m:function(t,r){for(var c=0;c<a.length;c+=1)a[c].m(t,r);g(t,n,r),e=!0},p:function(t,e){if(1&e){var c;for(r=t[0],c=0;c<r.length;c+=1){var s=z(t,r,c);a[c]?(a[c].p(s,e),R(a[c],1)):(a[c]=L(s),a[c].c(),R(a[c],1),a[c].m(n.parentNode,n))}for(b(),c=r.length;c<a.length;c+=1)o(c);I()}},i:function(t){if(!e){for(var n=0;n<r.length;n+=1)R(a[n]);e=!0}},o:function(t){a=a.filter(Boolean);for(var n=0;n<a.length;n+=1)x(a[n]);e=!1},d:function(t){S(a,t),t&&h(n)}}}function L(t){var n,e;return n=new q({props:{prediction:t[18]}}),{c:function(){V(n.$$.fragment)},l:function(t){A(n.$$.fragment,t)},m:function(t,r){C(n,t,r),e=!0},p:function(t,e){var r={};1&e&&(r.prediction=t[18]),n.$set(r)},i:function(t){e||(R(n.$$.fragment,t),e=!0)},o:function(t){x(n.$$.fragment,t),e=!1},d:function(t){N(n,t)}}}function Q(t){var n,e,r,a,c,o,s,E,D,P=[G,Z],$=[];function V(t,n){return t[0]?0:1}return s=V(t),E=$[s]=P[s](t),{c:function(){n=i("div"),e=i("div"),r=i("h2"),a=u("Predicted"),c=f(),o=i("div"),E.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var s=v(n);e=l(s,"DIV",{className:!0});var i=v(e);r=l(i,"H2",{class:!0});var f=v(r);a=d(f,"Predicted"),f.forEach(h),i.forEach(h),c=p(s),o=l(s,"DIV",{class:!0});var u=v(o);E.l(u),u.forEach(h),s.forEach(h),this.h()},h:function(){m(r,"class","svelte-mcdoaa"),m(e,"classname","flex flex-row justify-between items-top"),m(o,"class","prediction-table svelte-mcdoaa"),m(n,"class","predicted-weather svelte-mcdoaa")},m:function(t,i){g(t,n,i),w(n,e),w(e,r),w(r,a),w(n,c),w(n,o),$[s].m(o,null),D=!0},p:function(t,n){var e=y(n,1)[0],r=s;(s=V(t))===r?$[s].p(t,e):(b(),x($[r],1,1,(function(){$[r]=null})),I(),(E=$[s])||(E=$[s]=P[s](t)).c(),R(E,1),E.m(o,null))},i:function(t){D||(R(E),D=!0)},o:function(t){x(E),D=!1},d:function(t){t&&h(n),$[s].d()}}}function U(t,n,e){var r,a,c,o=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(a,c){function o(t){try{i(r.next(t))}catch(t){c(t)}}function s(t){try{i(r.throw(t))}catch(t){c(t)}}function i(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}i((r=r.apply(t,n||[])).next())}))};Array();function s(t){a=t.coords.longitude,c=t.coords.latitude,function(t,n){o(this,void 0,void 0,$.mark((function a(){var c,o,s;return $.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=".concat(n,"&lon=").concat(t)).then((function(t){return t.json()}));case 2:return c=a.sent,a.next=5,fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json").then((function(t){return t.json()}));case 5:(o=a.sent).shift(),s=[],o.forEach((function(t,n){if("observed"!=t[2]){var e,r,a=new Date(t[0]),o=new Date(0,0,0);c.properties.timeseries.forEach((function(t,n){var c=new Date(t.time);Math.abs(c.getTime()-a.getTime())<Math.abs(o.getTime()-a.getTime())&&(o=c,e=t.data.instant.details.air_temperature,r=t.data.instant.details.cloud_area_fraction)})),s.push({time:t[0],kp:t[1],temp:e,clouds:r})}})),e(0,r=s);case 10:case"end":return a.stop()}}),a)})))}(a,c)}function i(t){f()}function f(){a=28.283333,c=-15.416667}return P((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(s,i):f()})),[r]}var W=function(n){t(i,s);var e=F(i);function i(t){var n;return r(this,i),n=e.call(this),a(o(n),t,U,Q,c,{}),n}return i}();function X(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function Y(t){var n,e,r,a,c,o;return r=new J({}),c=new W({}),{c:function(){n=f(),e=i("div"),V(r.$$.fragment),a=f(),V(c.$$.fragment),this.h()},l:function(t){k('[data-svelte="svelte-1q3846k"]',document.head).forEach(h),n=p(t),e=l(t,"DIV",{class:!0});var o=v(e);A(r.$$.fragment,o),a=p(o),A(c.$$.fragment,o),o.forEach(h),this.h()},h:function(){document.title="Aurora data",m(e,"class","homescreen svelte-yqnwm7")},m:function(t,s){g(t,n,s),g(t,e,s),C(r,e,null),w(e,a),C(c,e,null),o=!0},p:D,i:function(t){o||(R(r.$$.fragment,t),R(c.$$.fragment,t),o=!0)},o:function(t){x(r.$$.fragment,t),x(c.$$.fragment,t),o=!1},d:function(t){t&&h(n),t&&h(e),N(r),N(c)}}}var tt=function(n){t(i,s);var e=X(i);function i(t){var n;return r(this,i),n=e.call(this),a(o(n),t,null,Y,c,{}),n}return i}();export default tt;
