import{_ as t,a as n,b as e,c as a,i as r,s as c,d as i,e as o,S as s,f as u,g as l,h as f,j as d,k as v,l as p,m as h,n as m,w as g,o as _,p as w,q as y,r as b,t as k,u as $,v as E,x as D,y as O,z as I,A as R,B as j,C as P,D as V,E as x,F as M,G as T,H as q,I as B,J as S,K as N,L as A,M as C,N as J,O as H,P as K,Q as z,R as F}from"./client.ea8a1b70.js";function L(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function Z(t){var n,e,a,r,c,i,o,s,g;return{c:function(){n=u("div"),e=u("div"),a=u("div"),r=u("div"),c=u("div"),i=u("div"),o=u("div"),s=u("div"),g=u("div"),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var u=f(n);e=l(u,"DIV",{class:!0}),f(e).forEach(d),a=l(u,"DIV",{class:!0}),f(a).forEach(d),r=l(u,"DIV",{class:!0}),f(r).forEach(d),c=l(u,"DIV",{class:!0}),f(c).forEach(d),i=l(u,"DIV",{class:!0}),f(i).forEach(d),o=l(u,"DIV",{class:!0}),f(o).forEach(d),s=l(u,"DIV",{class:!0}),f(s).forEach(d),g=l(u,"DIV",{class:!0}),f(g).forEach(d),u.forEach(d),this.h()},h:function(){v(e,"class","svelte-7k6qu0"),v(a,"class","svelte-7k6qu0"),v(r,"class","svelte-7k6qu0"),v(c,"class","svelte-7k6qu0"),v(i,"class","svelte-7k6qu0"),v(o,"class","svelte-7k6qu0"),v(s,"class","svelte-7k6qu0"),v(g,"class","svelte-7k6qu0"),v(n,"class","lds-roller svelte-7k6qu0")},m:function(t,u){p(t,n,u),h(n,e),h(n,a),h(n,r),h(n,c),h(n,i),h(n,o),h(n,s),h(n,g)},p:m,i:m,o:m,d:function(t){t&&d(n)}}}var G=function(n){t(u,s);var e=L(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,null,Z,c,{}),n}return o(u)}(),Q={Jan:1,Feb:2,March:3,April:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12};function U(t){return t=function(t){if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(t))return t;if(/^\d{4}\s[a-z,A-Z]+\s\d{2}$/.test(t)){var n=t.split(" ");return t="".concat(n[0],"-").concat(function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t.toString();n-e.length>0;)e="0"+e;return e}(Q[n[1]]),"-").concat(n[2],"T00:00:00Z"),t}return/^\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}/.test(t)?t.replace(" ","T")+"Z":/^\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2}.\d{4}/.test(t)?t.replace(" ","T").split(".")[0]+"Z":(console.warn(t),t)}(t),new Date(t)}const W=g("light");setInterval((function(){if("undefined"==typeof window)return;let t=window.matchMedia("(prefers-color-scheme:dark)").matches?"dark":"light";t!=_(W)&&W.set(t)}),1e3),W.subscribe((t=>{"undefined"!=typeof window&&("dark"==t?window.document.body.classList.add("dark"):window.document.body.classList.remove("dark"))}));const X={updated:new Date(0,0,0),updating:!0};let Y=it("navigator_location"),tt=it("earth_weather"),nt=it("space_weather");const et=g(ot("navigator_location")?function(t){return t.updated=new Date(t.updated),t}(Y):Object.assign(Object.assign({},X),{available:!1,longitude:null,latitude:null,city:null})),at=g(ot("earth_weather")?function(t){let n=t;return n.updated=new Date(n.updated),n.yr_data_raw.properties.meta.updated_at=new Date(n.yr_data_raw.properties.meta.updated_at),n.yr_data_raw.properties.timeseries=n.yr_data_raw.properties.timeseries.map((t=>Object.assign(Object.assign({},t),{time:new Date(t.time)}))),n}(tt):Object.assign(Object.assign({},X),{available:!1})),rt=g(ot("space_weather")?function(t){let n=t;return n.updated=new Date(n.updated),n.usnoaa_data_raw.geospace_pred_est_kp_1_hour=n.usnoaa_data_raw.geospace_pred_est_kp_1_hour.map((t=>Object.assign(Object.assign({},t),{model_prediction_time:new Date(t.model_prediction_time)}))),n.usnoaa_data_raw.noaa_planetary_k_index_forecast=n.usnoaa_data_raw.noaa_planetary_k_index_forecast.map((t=>Object.assign(Object.assign({},t),{time:new Date(t.time)}))),n.usnoaa_data_raw.outlook_27_day=n.usnoaa_data_raw.outlook_27_day.map((t=>Object.assign(Object.assign({},t),{time:new Date(t.time)}))),n.usnoaa_data_raw.solar_wind_mag_field.TimeStamp=new Date(n.usnoaa_data_raw.solar_wind_mag_field.TimeStamp),n}(nt):Object.assign({},X));function ct(t,n){"undefined"!=typeof window&&localStorage.setItem(t,JSON.stringify(n))}function it(t){if("undefined"!=typeof window)return JSON.parse(localStorage.getItem(t))}function ot(t){return"undefined"!=typeof window&&localStorage.hasOwnProperty(t)}async function st(){if("undefined"==typeof window)return;let t;lt(et,!0);try{t=await async function(){return new Promise(((t,n)=>{"undefined"!=typeof navigator?navigator.geolocation.getCurrentPosition((n=>{t({longitude:n.coords.longitude,latitude:n.coords.latitude})}),(t=>{n(t)})):n(Error())}))}()}catch(t){if(0==_(et).available)return;return console.log(t),et.update((t=>Object.assign(Object.assign({},t),{available:!1,city:null,longitude:null,latitude:null}))),void lt(et,!1)}if(_(et).available&&Date.now()-_(et).updated<3e5)return void lt(et,!1,!1);let n={city:void 0};try{let e=await fetch(`https://geocode.xyz/${t.latitude},${t.longitude}?geoit=json`);n=await e.json()}catch(t){console.log(t)}et.update((e=>Object.assign(Object.assign(Object.assign({},e),{available:!0,city:n.city}),t))),lt(et,!1)}async function ut(){if("undefined"==typeof window)return;if(Date.now()-_(rt).updated<3e5)return;let t;lt(rt,!0);try{t=await async function(){let t,n={now:{bz:"-",bt:"-",kp:"-",kp_min:"-",kp_max:"-"},usnoaa_data_raw:{solar_wind_mag_field:!1,noaa_planetary_k_index_forecast:!1,geospace_pred_est_kp_1_hour:!1,outlook_27_day:!1}},e=await fetch("https://services.swpc.noaa.gov/products/summary/solar-wind-mag-field.json");t=await e.json(),t.TimeStamp=U(t.TimeStamp),n.usnoaa_data_raw.solar_wind_mag_field=t,n.now.bz=n.usnoaa_data_raw.solar_wind_mag_field.Bz,n.now.bt=n.usnoaa_data_raw.solar_wind_mag_field.Bt,e=await fetch("https://services.swpc.noaa.gov/json/geospace/geospace_pred_est_kp_1_hour.json"),t=await e.json(),t=t.map((t=>Object.assign(Object.assign({},t),{model_prediction_time:U(t.model_prediction_time)}))),n.usnoaa_data_raw.geospace_pred_est_kp_1_hour=t,e=await fetch("https://services.swpc.noaa.gov/text/27-day-outlook.txt"),t=await e.text(),t=[...t.matchAll(/^(?<time>\d{4}\s.{3}\s\d{2})\s+(?<flux107>\d+)\s+(?<aindex>\d+)\s+(?<kindex>\d+)$/gm)],t=t.map((t=>Object.assign(Object.assign({},t.groups),{time:U(t.groups.time)}))),n.usnoaa_data_raw.outlook_27_day=t,e=await fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json"),t=await e.json(),t.shift(),n.usnoaa_data_raw.noaa_planetary_k_index_forecast=t;let a=new Date,r=new Date(0,0,0),c=1e3,i=0;return n.usnoaa_data_raw.noaa_planetary_k_index_forecast.forEach(((t,e)=>{t[1]>i&&(i=t[1]),t[1]<c&&(c=t[1]);let o=U(t[0]);Math.abs(o.getTime()-a.getTime())<Math.abs(r.getTime()-a.getTime())&&(r=o,n.now.kp=t[1]),n.usnoaa_data_raw.noaa_planetary_k_index_forecast[e]={time:o,kp:t[1],observed:t[2]}})),n.now.kp_min=c.toString(),n.now.kp_max=i.toString(),console.log(n),n}()}catch(t){return console.error(t),void lt(rt,!1,!1)}rt.update((n=>Object.assign(Object.assign({},n),t))),lt(rt,!1)}function lt(t,n=!1,e=!0){let a={};e&&!n&&(a={updated:new Date}),t.update((t=>Object.assign(Object.assign(Object.assign({},t),a),{updating:n})))}function ft(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function dt(t){var n,e,a;function r(t,n){return void 0!==t[2].city?pt:vt}var c=r(t),i=c(t);return{c:function(){n=u("i"),e=w(),i.c(),a=y(),this.h()},l:function(t){n=l(t,"I",{class:!0}),f(n).forEach(d),e=b(t),i.l(t),a=y(),this.h()},h:function(){v(n,"class","symbol fas fa-map-marker-alt svelte-9kdo4s")},m:function(t,r){p(t,n,r),p(t,e,r),i.m(t,r),p(t,a,r)},p:function(t,n){c===(c=r(t))&&i?i.p(t,n):(i.d(1),(i=c(t))&&(i.c(),i.m(a.parentNode,a)))},d:function(t){t&&d(n),t&&d(e),i.d(t),t&&d(a)}}}function vt(t){var n,e,a,r,c,i,o=t[2].longitude+"",s=t[2].latitude+"";return{c:function(){n=u("h1"),e=k("long: "),a=k(o),r=u("br"),c=k("lat: "),i=k(s),this.h()},l:function(t){n=l(t,"H1",{class:!0});var u=f(n);e=$(u,"long: "),a=$(u,o),r=l(u,"BR",{}),c=$(u,"lat: "),i=$(u,s),u.forEach(d),this.h()},h:function(){v(n,"class","svelte-9kdo4s")},m:function(t,o){p(t,n,o),h(n,e),h(n,a),h(n,r),h(n,c),h(n,i)},p:function(t,n){4&n&&o!==(o=t[2].longitude+"")&&D(a,o),4&n&&s!==(s=t[2].latitude+"")&&D(i,s)},d:function(t){t&&d(n)}}}function pt(t){var n,e,a=t[2].city+"";return{c:function(){n=u("h1"),e=k(a),this.h()},l:function(t){n=l(t,"H1",{class:!0});var r=f(n);e=$(r,a),r.forEach(d),this.h()},h:function(){v(n,"class","svelte-9kdo4s")},m:function(t,a){p(t,n,a),h(n,e)},p:function(t,n){4&n&&a!==(a=t[2].city+"")&&D(e,a)},d:function(t){t&&d(n)}}}function ht(t){var n,e,a;function r(t,e){return 24&e&&(n=null),null==n&&(n=!!(Math.abs(t[3].updated-t[4].updated)>6e5)),n?gt:mt}var c=r(t,-1),i=c(t),o=t[1]>=3e5&&_t(t);return{c:function(){i.c(),e=w(),o&&o.c(),a=y()},l:function(t){i.l(t),e=b(t),o&&o.l(t),a=y()},m:function(t,n){i.m(t,n),p(t,e,n),o&&o.m(t,n),p(t,a,n)},p:function(t,n){c===(c=r(t,n))&&i?i.p(t,n):(i.d(1),(i=c(t))&&(i.c(),i.m(e.parentNode,e))),t[1]>=3e5?o?o.p(t,n):((o=_t(t)).c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null)},d:function(t){i.d(t),t&&d(e),o&&o.d(t),t&&d(a)}}}function mt(t){var n,e,a=t[0].toLocaleString("no-NO",{dateStyle:"medium",timeStyle:"short"})+"";return{c:function(){n=u("p"),e=k(a)},l:function(t){n=l(t,"P",{});var r=f(n);e=$(r,a),r.forEach(d)},m:function(t,a){p(t,n,a),h(n,e)},p:function(t,n){1&n&&a!==(a=t[0].toLocaleString("no-NO",{dateStyle:"medium",timeStyle:"short"})+"")&&D(e,a)},d:function(t){t&&d(n)}}}function gt(t){var n,e;return{c:function(){n=u("p"),e=k("There is more than 10 minutes difference between data updates")},l:function(t){n=l(t,"P",{});var a=f(n);e=$(a,"There is more than 10 minutes difference between data updates"),a.forEach(d)},m:function(t,a){p(t,n,a),h(n,e)},p:m,d:function(t){t&&d(n)}}}function _t(t){var n,e,a,r,c,i=Math.round(t[1]/60/1e3)+"";return{c:function(){n=u("span"),e=u("i"),a=k(" Data is "),r=k(i),c=k(" minutes old!"),this.h()},l:function(t){n=l(t,"SPAN",{style:!0});var o=f(n);e=l(o,"I",{class:!0}),f(e).forEach(d),a=$(o," Data is "),r=$(o,i),c=$(o," minutes old!"),o.forEach(d),this.h()},h:function(){v(e,"class","symbol fas fa-exclamation-circle"),E(n,"color","red")},m:function(t,i){p(t,n,i),h(n,e),h(n,a),h(n,r),h(n,c)},p:function(t,n){2&n&&i!==(i=Math.round(t[1]/60/1e3)+"")&&D(r,i)},d:function(t){t&&d(n)}}}function wt(t){var n,e,a,r,c,i,o,s,g,_,y,E,O=t[4].now.kp+"",I=t[4].now.kp_max+"",R=t[4].now.kp_min+"";return{c:function(){n=u("h2"),e=k("KP "),a=k(O),r=w(),c=u("p"),i=u("span"),o=k("↑ KP "),s=k(I),g=w(),_=u("span"),y=k("↓ KP "),E=k(R),this.h()},l:function(t){n=l(t,"H2",{class:!0});var u=f(n);e=$(u,"KP "),a=$(u,O),u.forEach(d),r=b(t),c=l(t,"P",{});var v=f(c);i=l(v,"SPAN",{classname:!0});var p=f(i);o=$(p,"↑ KP "),s=$(p,I),p.forEach(d),g=b(v),_=l(v,"SPAN",{classname:!0});var h=f(_);y=$(h,"↓ KP "),E=$(h,R),h.forEach(d),v.forEach(d),this.h()},h:function(){v(n,"class","svelte-9kdo4s"),v(i,"classname","pr-2"),v(_,"classname","pl-2")},m:function(t,u){p(t,n,u),h(n,e),h(n,a),p(t,r,u),p(t,c,u),h(c,i),h(i,o),h(i,s),h(c,g),h(c,_),h(_,y),h(_,E)},p:function(t,n){16&n&&O!==(O=t[4].now.kp+"")&&D(a,O),16&n&&I!==(I=t[4].now.kp_max+"")&&D(s,I),16&n&&R!==(R=t[4].now.kp_min+"")&&D(E,R)},i:m,o:m,d:function(t){t&&d(n),t&&d(r),t&&d(c)}}}function yt(t){var n,e;return n=new G({}),{c:function(){x(n.$$.fragment)},l:function(t){M(n.$$.fragment,t)},m:function(t,a){T(n,t,a),e=!0},p:m,i:function(t){e||(P(n.$$.fragment,t),e=!0)},o:function(t){R(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function bt(t){var n,e,a,r,c,i,o,s,m,g,_,E,O,I,R,j=t[4].now.bz+"",P=t[4].now.bt+"",V=t[3].available&&kt(t);return{c:function(){n=u("div"),e=u("p"),a=k("BZ"),r=w(),c=u("p"),i=k(j),o=w(),s=u("div"),m=u("p"),g=k("BT"),_=w(),E=u("p"),O=k(P),I=w(),V&&V.c(),R=y(),this.h()},l:function(t){n=l(t,"DIV",{});var u=f(n);e=l(u,"P",{class:!0});var v=f(e);a=$(v,"BZ"),v.forEach(d),r=b(u),c=l(u,"P",{class:!0});var p=f(c);i=$(p,j),p.forEach(d),u.forEach(d),o=b(t),s=l(t,"DIV",{});var h=f(s);m=l(h,"P",{class:!0});var w=f(m);g=$(w,"BT"),w.forEach(d),_=b(h),E=l(h,"P",{class:!0});var k=f(E);O=$(k,P),k.forEach(d),h.forEach(d),I=b(t),V&&V.l(t),R=y(),this.h()},h:function(){v(e,"class","svelte-9kdo4s"),v(c,"class","svelte-9kdo4s"),v(m,"class","svelte-9kdo4s"),v(E,"class","svelte-9kdo4s")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(n,r),h(n,c),h(c,i),p(t,o,u),p(t,s,u),h(s,m),h(m,g),h(s,_),h(s,E),h(E,O),p(t,I,u),V&&V.m(t,u),p(t,R,u)},p:function(t,n){16&n&&j!==(j=t[4].now.bz+"")&&D(i,j),16&n&&P!==(P=t[4].now.bt+"")&&D(O,P),t[3].available?V?V.p(t,n):((V=kt(t)).c(),V.m(R.parentNode,R)):V&&(V.d(1),V=null)},d:function(t){t&&d(n),t&&d(o),t&&d(s),t&&d(I),V&&V.d(t),t&&d(R)}}}function kt(t){var n,e,a,r,c,i,o,s,m,g,_,y,E,O,I,R=t[3].now.temp+"",j=t[3].now.clouds+"";return{c:function(){n=u("div"),e=u("p"),a=k("Temp"),r=w(),c=u("p"),i=k(R),o=k("°C"),s=w(),m=u("div"),g=u("p"),_=k("Clouds"),y=w(),E=u("p"),O=k(j),I=k("%"),this.h()},l:function(t){n=l(t,"DIV",{});var u=f(n);e=l(u,"P",{class:!0});var v=f(e);a=$(v,"Temp"),v.forEach(d),r=b(u),c=l(u,"P",{class:!0});var p=f(c);i=$(p,R),o=$(p,"°C"),p.forEach(d),u.forEach(d),s=b(t),m=l(t,"DIV",{});var h=f(m);g=l(h,"P",{class:!0});var w=f(g);_=$(w,"Clouds"),w.forEach(d),y=b(h),E=l(h,"P",{class:!0});var k=f(E);O=$(k,j),I=$(k,"%"),k.forEach(d),h.forEach(d),this.h()},h:function(){v(e,"class","svelte-9kdo4s"),v(c,"class","svelte-9kdo4s"),v(g,"class","svelte-9kdo4s"),v(E,"class","svelte-9kdo4s")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(n,r),h(n,c),h(c,i),h(c,o),p(t,s,u),p(t,m,u),h(m,g),h(g,_),h(m,y),h(m,E),h(E,O),h(E,I)},p:function(t,n){8&n&&R!==(R=t[3].now.temp+"")&&D(i,R),8&n&&j!==(j=t[3].now.clouds+"")&&D(O,j)},d:function(t){t&&d(n),t&&d(s),t&&d(m)}}}function $t(t){var n,e,a,r,c,i,o,s,m,g,_,y,k=!t[2].updating&&t[2].available&&!t[3].updating&&!t[4].updating&&dt(t),$=!t[3].updating&&!t[4].updating&&ht(t),E=[yt,wt],D=[];function V(t,n){return t[4].updating||t[3].updating?0:1}s=V(t),m=D[s]=E[s](t);var x=!t[4].updating&&!t[3].updating&&bt(t);return{c:function(){n=u("div"),e=u("div"),a=u("div"),k&&k.c(),r=w(),c=u("div"),$&&$.c(),i=w(),o=u("div"),m.c(),g=w(),_=u("div"),x&&x.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var s=f(n);e=l(s,"DIV",{class:!0});var u=f(e);a=l(u,"DIV",{class:!0});var v=f(a);k&&k.l(v),v.forEach(d),r=b(u),c=l(u,"DIV",{class:!0});var p=f(c);$&&$.l(p),p.forEach(d),i=b(u),o=l(u,"DIV",{class:!0});var h=f(o);m.l(h),h.forEach(d),g=b(u),_=l(u,"DIV",{class:!0});var w=f(_);x&&x.l(w),w.forEach(d),u.forEach(d),s.forEach(d),this.h()},h:function(){v(a,"class","weatherCurrent-data-location svelte-9kdo4s"),v(c,"class","weatherCurrent-data-date"),v(o,"class","weatherCurrent-data-kp svelte-9kdo4s"),v(_,"class","current-details svelte-9kdo4s"),v(e,"class","weatherCurrent-data svelte-9kdo4s"),v(n,"class","weatherCurrent-wrapper svelte-9kdo4s")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),k&&k.m(a,null),h(e,r),h(e,c),$&&$.m(c,null),h(e,i),h(e,o),D[s].m(o,null),h(e,g),h(e,_),x&&x.m(_,null),y=!0},p:function(t,n){var e=O(n,1)[0];t[2].updating||!t[2].available||t[3].updating||t[4].updating?k&&(k.d(1),k=null):k?k.p(t,e):((k=dt(t)).c(),k.m(a,null)),t[3].updating||t[4].updating?$&&($.d(1),$=null):$?$.p(t,e):(($=ht(t)).c(),$.m(c,null));var r=s;(s=V(t))===r?D[s].p(t,e):(I(),R(D[r],1,1,(function(){D[r]=null})),j(),(m=D[s])?m.p(t,e):(m=D[s]=E[s](t)).c(),P(m,1),m.m(o,null)),t[4].updating||t[3].updating?x&&(x.d(1),x=null):x?x.p(t,e):((x=bt(t)).c(),x.m(_,null))},i:function(t){y||(P(m),y=!0)},o:function(t){R(m),y=!1},d:function(t){t&&d(n),k&&k.d(),$&&$.d(),D[s].d(),x&&x.d()}}}function Et(t,n,e){var a,r,c;V(t,et,(function(t){return e(2,a=t)})),V(t,at,(function(t){return e(3,r=t)})),V(t,rt,(function(t){return e(4,c=t)}));var i=new Date(0,0,0),o=0;return setInterval((function(){var t=_(at).updated,n=_(rt).updated,a=new Date;a-n>a-t?(e(0,i=n),e(1,o=a-n)):(e(0,i=t),e(1,o=a-t))}),500),[i,o,a,r,c]}st(),et.subscribe((async function(t=null){if("undefined"==typeof window)return;if(null===t)return;if(t.updating)return;if(!t.available)return at.update((t=>Object.assign(Object.assign({},t),{available:!1}))),void lt(at,!1);if(_(at).available&&Date.now()-_(at).updated<3e5)return;lt(at,!0);let n=await fetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${t.latitude}&lon=${t.longitude}`),e=await n.json(),a={clouds:null,temp:null};try{a.clouds=e.properties.timeseries[0].data.instant.details.cloud_area_fraction,a.temp=e.properties.timeseries[0].data.instant.details.air_temperature,e.properties.timeseries=e.properties.timeseries.map((t=>Object.assign(Object.assign({},t),{time:U(t.time)})))}catch(t){return console.error(t),void lt(at,!1,!1)}at.update((t=>Object.assign(Object.assign({},t),{yr_data_raw:e,now:a,available:!0}))),lt(at,!1)})),ut(),setInterval(st,15e4),setInterval(ut,15e4),et.subscribe((t=>ct("navigator_location",t))),at.subscribe((t=>ct("earth_weather",t))),rt.subscribe((t=>ct("space_weather",t)));var Dt=function(n){t(u,s);var e=ft(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,Et,$t,c,{}),n}return o(u)}();function Ot(t,n,e,a,r,c,i){try{var o=t[c](i),s=o.value}catch(t){return void e(t)}o.done?n(s):Promise.resolve(s).then(a,r)}function It(t){return function(){var n=this,e=arguments;return new Promise((function(a,r){var c=t.apply(n,e);function i(t){Ot(c,a,r,i,o,"next",t)}function o(t){Ot(c,a,r,i,o,"throw",t)}i(void 0)}))}}function Rt(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function jt(t){var n,e,a=t[1].default,r=B(a,t,t[0],null);return{c:function(){n=u("div"),r&&r.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var e=f(n);r&&r.l(e),e.forEach(d),this.h()},h:function(){v(n,"class","chip svelte-1jb0ny7")},m:function(t,a){p(t,n,a),r&&r.m(n,null),e=!0},p:function(t,n){var c=O(n,1)[0];r&&r.p&&(!e||1&c)&&S(r,a,t,t[0],e?A(a,t[0],c,null):N(t[0]),null)},i:function(t){e||(P(r,t),e=!0)},o:function(t){R(r,t),e=!1},d:function(t){t&&d(n),r&&r.d(t)}}}function Pt(t,n,e){var a=n.$$slots,r=void 0===a?{}:a,c=n.$$scope;return t.$$set=function(t){"$$scope"in t&&e(0,c=t.$$scope)},[c,r]}var Vt=function(n){t(u,s);var e=Rt(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,Pt,jt,c,{}),n}return o(u)}();function xt(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function Mt(t){var n,e,a,r,c,i;return{c:function(){n=u("div"),e=u("div"),a=u("div"),r=w(),c=u("span"),i=k(t[1]),this.h()},l:function(o){n=l(o,"DIV",{class:!0,style:!0});var s=f(n);e=l(s,"DIV",{class:!0});var u=f(e);a=l(u,"DIV",{class:!0}),f(a).forEach(d),u.forEach(d),r=b(s),c=l(s,"SPAN",{class:!0});var v=f(c);i=$(v,t[1]),v.forEach(d),s.forEach(d),this.h()},h:function(){v(a,"class","bar svelte-1mo8cjf"),v(e,"class","bar-wrapper svelte-1mo8cjf"),v(c,"class","value svelte-1mo8cjf"),v(n,"class","wrapper svelte-1mo8cjf"),E(n,"--progress",100*t[0]+"%")},m:function(t,o){p(t,n,o),h(n,e),h(e,a),h(n,r),h(n,c),h(c,i)},p:function(t,e){var a=O(e,1)[0];2&a&&D(i,t[1]),1&a&&E(n,"--progress",100*t[0]+"%")},i:m,o:m,d:function(t){t&&d(n)}}}function Tt(t,n,e){var a=n.percentage,r=n.value;return t.$$set=function(t){"percentage"in t&&e(0,a=t.percentage),"value"in t&&e(1,r=t.value)},[a,r]}var qt=function(n){t(u,s);var e=xt(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,Tt,Mt,c,{percentage:0,value:1}),n}return o(u)}();function Bt(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function St(t){var n,e,a,r,c,i,o,s,g,_,y,E,D;_=new qt({props:{percentage:t[0]/9,value:t[0]}});var I=t[5]&&function(t){var n,e,a,r,c,i,o,s,g,_,y,E,D=Math.round(t[3])+"",O=Math.round(t[4])+"";return{c:function(){n=u("div"),e=u("p"),a=u("i"),r=w(),c=k(D),i=k("°C"),o=w(),s=u("p"),g=u("i"),_=w(),y=k(O),E=k("%"),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var u=f(n);e=l(u,"P",{class:!0});var v=f(e);a=l(v,"I",{class:!0}),f(a).forEach(d),r=b(v),c=$(v,D),i=$(v,"°C"),v.forEach(d),o=b(u),s=l(u,"P",{class:!0});var p=f(s);g=l(p,"I",{class:!0}),f(g).forEach(d),_=b(p),y=$(p,O),E=$(p,"%"),p.forEach(d),u.forEach(d),this.h()},h:function(){v(a,"class","fas fa-thermometer-half svelte-m9qkku"),v(e,"class","svelte-m9qkku"),v(g,"class","fas fa-cloud svelte-m9qkku"),v(s,"class","svelte-m9qkku"),v(n,"class","svelte-m9qkku")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(e,r),h(e,c),h(e,i),h(n,o),h(n,s),h(s,g),h(s,_),h(s,y),h(s,E)},p:m,d:function(t){t&&d(n)}}}(t);return{c:function(){n=u("div"),e=u("div"),a=u("h3"),r=k(t[2]),c=w(),i=u("p"),o=k(t[1]),s=w(),g=u("div"),x(_.$$.fragment),y=w(),E=u("div"),I&&I.c(),this.h()},l:function(u){n=l(u,"DIV",{class:!0});var v=f(n);e=l(v,"DIV",{class:!0});var p=f(e);a=l(p,"H3",{class:!0});var h=f(a);r=$(h,t[2]),h.forEach(d),c=b(p),i=l(p,"P",{class:!0});var m=f(i);o=$(m,t[1]),m.forEach(d),p.forEach(d),s=b(v),g=l(v,"DIV",{class:!0});var w=f(g);M(_.$$.fragment,w),w.forEach(d),y=b(v),E=l(v,"DIV",{class:!0});var k=f(E);I&&I.l(k),k.forEach(d),v.forEach(d),this.h()},h:function(){v(a,"class","svelte-m9qkku"),v(i,"class","svelte-m9qkku"),v(e,"class","svelte-m9qkku"),v(g,"class","KP svelte-m9qkku"),v(E,"class","data svelte-m9qkku"),v(n,"class","prediction-details svelte-m9qkku")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(a,r),h(e,c),h(e,i),h(i,o),h(n,s),h(n,g),T(_,g,null),h(n,y),h(n,E),I&&I.m(E,null),D=!0},p:function(t,n){var e=O(n,1)[0];t[5]&&I.p(t,e)},i:function(t){D||(P(_.$$.fragment,t),D=!0)},o:function(t){R(_.$$.fragment,t),D=!1},d:function(t){t&&d(n),q(_),I&&I.d()}}}function Nt(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t,a=0;a<n-t.length;a++)e="0"+e;return e}function At(t,n,e){var a=n.prediction,r=a.kp,c=a.time.getDate()+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.time.getMonth()],i=Nt(a.time.getHours().toString())+":"+Nt(a.time.getMinutes().toString()),o=a.temp,s=a.clouds,u=a.hasNOMETData;return t.$$set=function(t){"prediction"in t&&e(6,a=t.prediction)},[r,c,i,o,s,u,a]}var Ct=function(n){t(u,s);var e=Bt(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,At,St,c,{prediction:6}),n}return o(u)}();function Jt(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function Ht(t,n,e){var a=t.slice();return a[5]=n[e],a[7]=e,a}function Kt(t){var n,e;return n=new Ct({props:{prediction:t[5]}}),{c:function(){x(n.$$.fragment)},l:function(t){M(n.$$.fragment,t)},m:function(t,a){T(n,t,a),e=!0},p:function(t,e){var a={};1&e&&(a.prediction=t[5]),n.$set(a)},i:function(t){e||(P(n.$$.fragment,t),e=!0)},o:function(t){R(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function zt(t){for(var n,e,a=t[0],r=[],c=0;c<a.length;c+=1)r[c]=Kt(Ht(t,a,c));var i=function(t){return R(r[t],1,1,(function(){r[t]=null}))};return{c:function(){n=u("div");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l:function(t){n=l(t,"DIV",{class:!0});for(var e=f(n),a=0;a<r.length;a+=1)r[a].l(e);e.forEach(d),this.h()},h:function(){v(n,"class","prediction-table svelte-1uc0m3l")},m:function(t,a){p(t,n,a);for(var c=0;c<r.length;c+=1)r[c].m(n,null);e=!0},p:function(t,e){var c=O(e,1)[0];if(1&c){var o;for(a=t[0],o=0;o<a.length;o+=1){var s=Ht(t,a,o);r[o]?(r[o].p(s,c),P(r[o],1)):(r[o]=Kt(s),r[o].c(),P(r[o],1),r[o].m(n,null))}for(I(),o=a.length;o<r.length;o+=1)i(o);j()}},i:function(t){if(!e){for(var n=0;n<a.length;n+=1)P(r[n]);e=!0}},o:function(t){r=r.filter(Boolean);for(var n=0;n<r.length;n+=1)R(r[n]);e=!1},d:function(t){t&&d(n),C(r,t)}}}function Ft(t,n,e){var a,r,c;function i(){return o.apply(this,arguments)}function o(){return(o=It(J.mark((function t(){var n;return J.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.updating&&!a.updating){t.next=3;break}return e(0,c=null),t.abrupt("return");case 3:n=r.usnoaa_data_raw.geospace_pred_est_kp_1_hour.filter((function(t){return t.model_prediction_time>=new Date})),e(0,c=n.map((function(t){return{time:t.model_prediction_time,kp:Math.round(t.k),temp:null,clouds:null,hasNOMETData:a.available}}))),a.available&&c.forEach((function(t,n){var r,i,o=new Date(0,0,0),s=!0;a.yr_data_raw.properties.timeseries.forEach((function(n,e){var a=new Date(n.time);if(Math.abs(a.getTime()-t.time.getTime())<Math.abs(o.getTime()-t.time.getTime())){if(Math.abs(a.getTime()-t.time.getTime())>18e6)return void(s=!1);o=a,r=n.data.instant.details.air_temperature,i=n.data.instant.details.cloud_area_fraction}})),e(0,c[n]=Object.assign(Object.assign({},c[n]),{temp:r,clouds:i,hasNOMETData:s}),c)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return V(t,at,(function(t){return e(1,a=t)})),V(t,rt,(function(t){return e(2,r=t)})),rt.subscribe(i),at.subscribe(i),[c]}var Lt=function(n){t(u,s);var e=Jt(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,Ft,zt,c,{}),n}return o(u)}();function Zt(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function Gt(t){var n,e,a;return e=new Vt({props:{$$slots:{default:[Qt]},$$scope:{ctx:t}}}),{c:function(){n=u("div"),x(e.$$.fragment),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var a=f(n);M(e.$$.fragment,a),a.forEach(d),this.h()},h:function(){v(n,"class","svelte-m9qkku")},m:function(t,r){p(t,n,r),T(e,n,null),a=!0},p:function(t,n){var a={};257&n&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i:function(t){a||(P(e.$$.fragment,t),a=!0)},o:function(t){R(e.$$.fragment,t),a=!1},d:function(t){t&&d(n),q(e)}}}function Qt(t){var n,e=t[0].observed+"";return{c:function(){n=k(e)},l:function(t){n=$(t,e)},m:function(t,e){p(t,n,e)},p:function(t,a){1&a&&e!==(e=t[0].observed+"")&&D(n,e)},d:function(t){t&&d(n)}}}function Ut(t){var n,e,a,r,c,i,o,s,g,_,y,E,D,V,B="predicted"!=t[0].observed&&Gt(t);y=new qt({props:{percentage:t[1]/9,value:t[1]}});var S=t[6]&&function(t){var n,e,a,r,c,i,o,s,g,_,y,E,D=Math.round(t[4])+"",O=Math.round(t[5])+"";return{c:function(){n=u("div"),e=u("p"),a=u("i"),r=w(),c=k(D),i=k("°C"),o=w(),s=u("p"),g=u("i"),_=w(),y=k(O),E=k("%"),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var u=f(n);e=l(u,"P",{class:!0});var v=f(e);a=l(v,"I",{class:!0}),f(a).forEach(d),r=b(v),c=$(v,D),i=$(v,"°C"),v.forEach(d),o=b(u),s=l(u,"P",{class:!0});var p=f(s);g=l(p,"I",{class:!0}),f(g).forEach(d),_=b(p),y=$(p,O),E=$(p,"%"),p.forEach(d),u.forEach(d),this.h()},h:function(){v(a,"class","fas fa-thermometer-half svelte-m9qkku"),v(e,"class","svelte-m9qkku"),v(g,"class","fas fa-cloud svelte-m9qkku"),v(s,"class","svelte-m9qkku"),v(n,"class","svelte-m9qkku")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(e,r),h(e,c),h(e,i),h(n,o),h(n,s),h(s,g),h(s,_),h(s,y),h(s,E)},p:m,d:function(t){t&&d(n)}}}(t);return{c:function(){n=u("div"),e=u("div"),a=u("h3"),r=k(t[3]),c=w(),i=u("p"),o=k(t[2]),s=w(),B&&B.c(),g=w(),_=u("div"),x(y.$$.fragment),E=w(),D=u("div"),S&&S.c(),this.h()},l:function(u){n=l(u,"DIV",{class:!0});var v=f(n);e=l(v,"DIV",{class:!0});var p=f(e);a=l(p,"H3",{class:!0});var h=f(a);r=$(h,t[3]),h.forEach(d),c=b(p),i=l(p,"P",{class:!0});var m=f(i);o=$(m,t[2]),m.forEach(d),p.forEach(d),s=b(v),B&&B.l(v),g=b(v),_=l(v,"DIV",{class:!0});var w=f(_);M(y.$$.fragment,w),w.forEach(d),E=b(v),D=l(v,"DIV",{class:!0});var k=f(D);S&&S.l(k),k.forEach(d),v.forEach(d),this.h()},h:function(){v(a,"class","svelte-m9qkku"),v(i,"class","svelte-m9qkku"),v(e,"class","svelte-m9qkku"),v(_,"class","KP svelte-m9qkku"),v(D,"class","data svelte-m9qkku"),v(n,"class","prediction-details svelte-m9qkku")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(a,r),h(e,c),h(e,i),h(i,o),h(n,s),B&&B.m(n,null),h(n,g),h(n,_),T(y,_,null),h(n,E),h(n,D),S&&S.m(D,null),V=!0},p:function(t,e){var a=O(e,1)[0];"predicted"!=t[0].observed?B?(B.p(t,a),1&a&&P(B,1)):((B=Gt(t)).c(),P(B,1),B.m(n,g)):B&&(I(),R(B,1,1,(function(){B=null})),j()),t[6]&&S.p(t,a)},i:function(t){V||(P(B),P(y.$$.fragment,t),V=!0)},o:function(t){R(B),R(y.$$.fragment,t),V=!1},d:function(t){t&&d(n),B&&B.d(),q(y),S&&S.d()}}}function Wt(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t,a=0;a<n-t.length;a++)e="0"+e;return e}function Xt(t,n,e){var a=n.prediction,r=a.kp,c=a.time.getDate()+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.time.getMonth()],i=Wt(a.time.getHours().toString())+":"+Wt(a.time.getMinutes().toString()),o=a.temp,s=a.clouds,u=a.hasNOMETData;return t.$$set=function(t){"prediction"in t&&e(0,a=t.prediction)},[a,r,c,i,o,s,u]}var Yt=function(n){t(u,s);var e=Zt(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,Xt,Ut,c,{prediction:0}),n}return o(u)}();function tn(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function nn(t,n,e){var a=t.slice();return a[5]=n[e],a[7]=e,a}function en(t){var n,e;return n=new Yt({props:{prediction:t[5]}}),{c:function(){x(n.$$.fragment)},l:function(t){M(n.$$.fragment,t)},m:function(t,a){T(n,t,a),e=!0},p:function(t,e){var a={};1&e&&(a.prediction=t[5]),n.$set(a)},i:function(t){e||(P(n.$$.fragment,t),e=!0)},o:function(t){R(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function an(t){for(var n,e,a=t[0],r=[],c=0;c<a.length;c+=1)r[c]=en(nn(t,a,c));var i=function(t){return R(r[t],1,1,(function(){r[t]=null}))};return{c:function(){n=u("div");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l:function(t){n=l(t,"DIV",{class:!0});for(var e=f(n),a=0;a<r.length;a+=1)r[a].l(e);e.forEach(d),this.h()},h:function(){v(n,"class","prediction-table svelte-1uc0m3l")},m:function(t,a){p(t,n,a);for(var c=0;c<r.length;c+=1)r[c].m(n,null);e=!0},p:function(t,e){var c=O(e,1)[0];if(1&c){var o;for(a=t[0],o=0;o<a.length;o+=1){var s=nn(t,a,o);r[o]?(r[o].p(s,c),P(r[o],1)):(r[o]=en(s),r[o].c(),P(r[o],1),r[o].m(n,null))}for(I(),o=a.length;o<r.length;o+=1)i(o);j()}},i:function(t){if(!e){for(var n=0;n<a.length;n+=1)P(r[n]);e=!0}},o:function(t){r=r.filter(Boolean);for(var n=0;n<r.length;n+=1)R(r[n]);e=!1},d:function(t){t&&d(n),C(r,t)}}}function rn(t,n,e){var a,r,c;function i(){return o.apply(this,arguments)}function o(){return(o=It(J.mark((function t(){var n;return J.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.updating&&!a.updating){t.next=3;break}return e(0,c=null),t.abrupt("return");case 3:n=r.usnoaa_data_raw.noaa_planetary_k_index_forecast.filter((function(t){return"observed"!==t.observed})),e(0,c=n.map((function(t){return{time:t.time,kp:t.kp,observed:t.observed,temp:null,clouds:null,hasNOMETData:a.available}}))),a.available&&c.forEach((function(t,n){var r,i,o=new Date(0,0,0);a.yr_data_raw.properties.timeseries.forEach((function(n,e){var a=new Date(n.time);Math.abs(a.getTime()-t.time.getTime())<Math.abs(o.getTime()-t.time.getTime())&&(o=a,r=n.data.instant.details.air_temperature,i=n.data.instant.details.cloud_area_fraction)})),e(0,c[n]=Object.assign(Object.assign({},c[n]),{temp:r,clouds:i}),c)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return V(t,at,(function(t){return e(1,a=t)})),V(t,rt,(function(t){return e(2,r=t)})),rt.subscribe(i),at.subscribe(i),[c]}var cn=function(n){t(u,s);var e=tn(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,rn,an,c,{}),n}return o(u)}();function on(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function sn(t){var n,e,a,r,c,i,o,s,m,g;return o=new qt({props:{percentage:t[0]/9,value:t[0]}}),{c:function(){n=u("div"),e=u("div"),a=u("h3"),r=k(t[1]),c=w(),i=u("div"),x(o.$$.fragment),s=w(),m=u("div"),this.h()},l:function(u){n=l(u,"DIV",{class:!0});var v=f(n);e=l(v,"DIV",{class:!0});var p=f(e);a=l(p,"H3",{class:!0});var h=f(a);r=$(h,t[1]),h.forEach(d),p.forEach(d),c=b(v),i=l(v,"DIV",{class:!0});var g=f(i);M(o.$$.fragment,g),g.forEach(d),s=b(v),m=l(v,"DIV",{class:!0}),f(m).forEach(d),v.forEach(d),this.h()},h:function(){v(a,"class","svelte-m9qkku"),v(e,"class","svelte-m9qkku"),v(i,"class","KP svelte-m9qkku"),v(m,"class","data svelte-m9qkku"),v(n,"class","prediction-details svelte-m9qkku")},m:function(t,u){p(t,n,u),h(n,e),h(e,a),h(a,r),h(n,c),h(n,i),T(o,i,null),h(n,s),h(n,m),g=!0},p:function(t,n){O(n,1)[0]},i:function(t){g||(P(o.$$.fragment,t),g=!0)},o:function(t){R(o.$$.fragment,t),g=!1},d:function(t){t&&d(n),q(o)}}}function un(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t,a=0;a<n-t.length;a++)e="0"+e;return e}function ln(t,n,e){var a=n.prediction,r=a.kp,c=a.time.getDate()+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.time.getMonth()];un(a.time.getHours().toString()),un(a.time.getMinutes().toString());var i=a.temp,o=a.clouds;return t.$$set=function(t){"prediction"in t&&e(4,a=t.prediction)},[r,c,i,o,a]}var fn=function(n){t(u,s);var e=on(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,ln,sn,c,{prediction:4}),n}return o(u)}();function dn(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function vn(t,n,e){var a=t.slice();return a[5]=n[e],a[7]=e,a}function pn(t){var n,e;return n=new fn({props:{prediction:t[5]}}),{c:function(){x(n.$$.fragment)},l:function(t){M(n.$$.fragment,t)},m:function(t,a){T(n,t,a),e=!0},p:function(t,e){var a={};1&e&&(a.prediction=t[5]),n.$set(a)},i:function(t){e||(P(n.$$.fragment,t),e=!0)},o:function(t){R(n.$$.fragment,t),e=!1},d:function(t){q(n,t)}}}function hn(t){for(var n,e,a=t[0],r=[],c=0;c<a.length;c+=1)r[c]=pn(vn(t,a,c));var i=function(t){return R(r[t],1,1,(function(){r[t]=null}))};return{c:function(){n=u("div");for(var t=0;t<r.length;t+=1)r[t].c();this.h()},l:function(t){n=l(t,"DIV",{class:!0});for(var e=f(n),a=0;a<r.length;a+=1)r[a].l(e);e.forEach(d),this.h()},h:function(){v(n,"class","prediction-table svelte-1uc0m3l")},m:function(t,a){p(t,n,a);for(var c=0;c<r.length;c+=1)r[c].m(n,null);e=!0},p:function(t,e){var c=O(e,1)[0];if(1&c){var o;for(a=t[0],o=0;o<a.length;o+=1){var s=vn(t,a,o);r[o]?(r[o].p(s,c),P(r[o],1)):(r[o]=pn(s),r[o].c(),P(r[o],1),r[o].m(n,null))}for(I(),o=a.length;o<r.length;o+=1)i(o);j()}},i:function(t){if(!e){for(var n=0;n<a.length;n+=1)P(r[n]);e=!0}},o:function(t){r=r.filter(Boolean);for(var n=0;n<r.length;n+=1)R(r[n]);e=!1},d:function(t){t&&d(n),C(r,t)}}}function mn(t,n,e){var a,r,c;function i(){return o.apply(this,arguments)}function o(){return(o=It(J.mark((function t(){var n;return J.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.updating&&!a.updating){t.next=3;break}return e(0,c=null),t.abrupt("return");case 3:n=r.usnoaa_data_raw.outlook_27_day.filter((function(t){return t.time>=new Date})),e(0,c=n.map((function(t){return{time:t.time,kp:t.kindex,temp:null,clouds:null,hasNOMETData:a.available}}))),a.available&&c.forEach((function(t,n){var r,i,o=new Date(0,0,0),s=!0;a.yr_data_raw.properties.timeseries.forEach((function(n,e){var a=new Date(n.time);if(Math.abs(a.getTime()-t.time.getTime())<Math.abs(o.getTime()-t.time.getTime())){if(Math.abs(a.getTime()-t.time.getTime())>864e5)return void(s=!1);o=a,r=n.data.instant.details.air_temperature,i=n.data.instant.details.cloud_area_fraction}})),e(0,c[n]=Object.assign(Object.assign({},c[n]),{temp:r,clouds:i,hasNOMETData:s}),c)}));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return V(t,at,(function(t){return e(1,a=t)})),V(t,rt,(function(t){return e(2,r=t)})),rt.subscribe(i),at.subscribe(i),[c]}var gn=function(n){t(u,s);var e=dn(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,mn,hn,c,{}),n}return o(u)}();function _n(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function wn(t){var n,e,a,r,c;return{c:function(){n=u("div"),e=u("i"),a=w(),r=u("p"),c=k("No prediction data"),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var i=f(n);e=l(i,"I",{class:!0}),f(e).forEach(d),a=b(i),r=l(i,"P",{});var o=f(r);c=$(o,"No prediction data"),o.forEach(d),i.forEach(d),this.h()},h:function(){v(e,"class","fas fa-7x fa-exclamation-triangle"),v(n,"class","no-data svelte-11gsg4a")},m:function(t,i){p(t,n,i),h(n,e),h(n,a),h(n,r),h(r,c)},p:m,i:m,o:m,d:function(t){t&&d(n)}}}function yn(t){var n,e,a,r,c,i,o,s,m,g,_,E,D,O,V,B,S,N,A,C=t[0];return C&&(V=new C({})),{c:function(){n=u("div"),e=u("h2"),a=k("Forecast"),r=w(),c=u("div"),i=u("div"),o=k("hour"),s=w(),m=u("div"),g=k("3 day"),_=w(),E=u("div"),D=k("Longterm"),O=w(),V&&x(V.$$.fragment),B=y(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var u=f(n);e=l(u,"H2",{class:!0});var v=f(e);a=$(v,"Forecast"),v.forEach(d),r=b(u),c=l(u,"DIV",{class:!0});var p=f(c);i=l(p,"DIV",{class:!0});var h=f(i);o=$(h,"hour"),h.forEach(d),s=b(p),m=l(p,"DIV",{class:!0});var w=f(m);g=$(w,"3 day"),w.forEach(d),_=b(p),E=l(p,"DIV",{class:!0});var k=f(E);D=$(k,"Longterm"),k.forEach(d),p.forEach(d),u.forEach(d),O=b(t),V&&M(V.$$.fragment,t),B=y(),this.h()},h:function(){v(e,"class","svelte-11gsg4a"),v(i,"class","svelte-11gsg4a"),H(i,"selected",t[0]==Lt),v(m,"class","svelte-11gsg4a"),H(m,"selected",t[0]==cn),v(E,"class","svelte-11gsg4a"),H(E,"selected",t[0]==gn),v(c,"class","version-picker svelte-11gsg4a"),v(n,"class","header svelte-11gsg4a")},m:function(u,l){p(u,n,l),h(n,e),h(e,a),h(n,r),h(n,c),h(c,i),h(i,o),h(c,s),h(c,m),h(m,g),h(c,_),h(c,E),h(E,D),p(u,O,l),V&&T(V,u,l),p(u,B,l),S=!0,N||(A=[K(i,"click",t[3]),K(m,"click",t[4]),K(E,"click",t[5])],N=!0)},p:function(t,n){if(1&n&&H(i,"selected",t[0]==Lt),1&n&&H(m,"selected",t[0]==cn),1&n&&H(E,"selected",t[0]==gn),C!==(C=t[0])){if(V){I();var e=V;R(e.$$.fragment,1,0,(function(){q(e,1)})),j()}C?(V=new C({}),x(V.$$.fragment),P(V.$$.fragment,1),T(V,B.parentNode,B)):V=null}},i:function(t){S||(V&&P(V.$$.fragment,t),S=!0)},o:function(t){V&&R(V.$$.fragment,t),S=!1},d:function(t){t&&d(n),t&&d(O),t&&d(B),V&&q(V,t),N=!1,z(A)}}}function bn(t){var n,e,a,r,c=[yn,wn],i=[];function o(t,n){return t[1].updating||t[2].updating?1:0}return e=o(t),a=i[e]=c[e](t),{c:function(){n=u("div"),a.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var e=f(n);a.l(e),e.forEach(d),this.h()},h:function(){v(n,"class","drawer svelte-11gsg4a")},m:function(t,a){p(t,n,a),i[e].m(n,null),r=!0},p:function(t,r){var s=O(r,1)[0],u=e;(e=o(t))===u?i[e].p(t,s):(I(),R(i[u],1,1,(function(){i[u]=null})),j(),(a=i[e])?a.p(t,s):(a=i[e]=c[e](t)).c(),P(a,1),a.m(n,null))},i:function(t){r||(P(a),r=!0)},o:function(t){R(a),r=!1},d:function(t){t&&d(n),i[e].d()}}}function kn(t,n,e){var a,r;V(t,at,(function(t){return e(1,a=t)})),V(t,rt,(function(t){return e(2,r=t)}));var c=cn;return[c,a,r,function(){return e(0,c=Lt)},function(){return e(0,c=cn)},function(){return e(0,c=gn)}]}var $n=function(n){t(u,s);var e=_n(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,kn,bn,c,{}),n}return o(u)}();function En(t){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,c=n(t);if(a){var i=n(this).constructor;r=Reflect.construct(c,arguments,i)}else r=c.apply(this,arguments);return e(this,r)}}function Dn(t){var n,e,a,r,c,i;return a=new Dt({}),c=new $n({}),{c:function(){n=w(),e=u("div"),x(a.$$.fragment),r=w(),x(c.$$.fragment),this.h()},l:function(t){F('[data-svelte="svelte-1q3846k"]',document.head).forEach(d),n=b(t),e=l(t,"DIV",{class:!0});var i=f(e);M(a.$$.fragment,i),r=b(i),M(c.$$.fragment,i),i.forEach(d),this.h()},h:function(){document.title="Aurora data",v(e,"class","homescreen svelte-pf4p6y")},m:function(t,o){p(t,n,o),p(t,e,o),T(a,e,null),h(e,r),T(c,e,null),i=!0},p:m,i:function(t){i||(P(a.$$.fragment,t),P(c.$$.fragment,t),i=!0)},o:function(t){R(a.$$.fragment,t),R(c.$$.fragment,t),i=!1},d:function(t){t&&d(n),t&&d(e),q(a),q(c)}}}var On=function(n){t(u,s);var e=En(u);function u(t){var n;return a(this,u),n=e.call(this),r(i(n),t,null,Dn,c,{}),n}return o(u)}();export{On as default};
