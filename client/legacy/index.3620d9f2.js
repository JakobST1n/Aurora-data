import{_ as t,a as n,b as e,c as r,i as a,s as c,d as o,S as i,e as s,f as u,t as f,g as l,h,j as v,k as p,l as d,m,n as g,o as y,p as E,q as w,r as D,u as P,v as x,w as $,x as b,y as I,z as R,A as V,B as j,C,D as k,E as N,F as M}from"./client.8f52d8e6.js";function T(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function S(t){var n,e,r,a,c,o,i,P,x,$,b,I,R,V,j,C,k,N,M,T,S,_,A,H,J,K,B,z,O,F,q,Z,G,L,Q,U,W,X,Y,tt,nt,et,rt,at,ct,ot,it,st,ut;return{c:function(){n=s("div"),e=s("div"),r=s("div"),a=s("i"),c=u(),o=s("h1"),i=f(t[0]),P=u(),x=s("div"),$=s("p"),b=f(t[1]),I=u(),R=s("div"),V=s("h2"),j=f("KP "),C=f(t[2]),k=u(),N=s("p"),M=s("span"),T=f("↑ KP "),S=f(t[4]),_=u(),A=s("span"),H=f("↓ KP "),J=f(t[3]),K=u(),B=s("div"),z=s("div"),O=s("p"),F=f("BZ"),q=u(),Z=s("p"),G=f(t[5]),L=u(),Q=s("div"),U=s("p"),W=f("Temp"),X=u(),Y=s("p"),tt=f(t[7]),nt=f("°C"),et=u(),rt=s("div"),at=s("p"),ct=f("Clouds"),ot=u(),it=s("p"),st=f(t[6]),ut=f("%"),this.h()},l:function(s){n=l(s,"DIV",{class:!0});var u=h(n);e=l(u,"DIV",{class:!0});var f=h(e);r=l(f,"DIV",{class:!0});var m=h(r);a=l(m,"I",{class:!0}),h(a).forEach(v),c=p(m),o=l(m,"H1",{class:!0});var g=h(o);i=d(g,t[0]),g.forEach(v),m.forEach(v),P=p(f),x=l(f,"DIV",{class:!0});var y=h(x);$=l(y,"P",{});var E=h($);b=d(E,t[1]),E.forEach(v),y.forEach(v),I=p(f),R=l(f,"DIV",{class:!0});var w=h(R);V=l(w,"H2",{class:!0});var D=h(V);j=d(D,"KP "),C=d(D,t[2]),D.forEach(v),k=p(w),N=l(w,"P",{});var ft=h(N);M=l(ft,"SPAN",{className:!0});var lt=h(M);T=d(lt,"↑ KP "),S=d(lt,t[4]),lt.forEach(v),_=p(ft),A=l(ft,"SPAN",{className:!0});var ht=h(A);H=d(ht,"↓ KP "),J=d(ht,t[3]),ht.forEach(v),ft.forEach(v),w.forEach(v),K=p(f),B=l(f,"DIV",{class:!0});var vt=h(B);z=l(vt,"DIV",{});var pt=h(z);O=l(pt,"P",{class:!0});var dt=h(O);F=d(dt,"BZ"),dt.forEach(v),q=p(pt),Z=l(pt,"P",{class:!0});var mt=h(Z);G=d(mt,t[5]),mt.forEach(v),pt.forEach(v),L=p(vt),Q=l(vt,"DIV",{});var gt=h(Q);U=l(gt,"P",{class:!0});var yt=h(U);W=d(yt,"Temp"),yt.forEach(v),X=p(gt),Y=l(gt,"P",{class:!0});var Et=h(Y);tt=d(Et,t[7]),nt=d(Et,"°C"),Et.forEach(v),gt.forEach(v),et=p(vt),rt=l(vt,"DIV",{});var wt=h(rt);at=l(wt,"P",{class:!0});var Dt=h(at);ct=d(Dt,"Clouds"),Dt.forEach(v),ot=p(wt),it=l(wt,"P",{class:!0});var Pt=h(it);st=d(Pt,t[6]),ut=d(Pt,"%"),Pt.forEach(v),wt.forEach(v),vt.forEach(v),f.forEach(v),u.forEach(v),this.h()},h:function(){m(a,"class","symbol fas fa-map-marker-alt svelte-1oi7i0p"),m(o,"class","svelte-1oi7i0p"),m(r,"class","weatherCurrent-data-location svelte-1oi7i0p"),m(x,"class","weatherCurrent-data-date"),m(V,"class","svelte-1oi7i0p"),m(M,"classname","pr-2"),m(A,"classname","pl-2"),m(R,"class","weatherCurrent-data-kp svelte-1oi7i0p"),m(O,"class","svelte-1oi7i0p"),m(Z,"class","svelte-1oi7i0p"),m(U,"class","svelte-1oi7i0p"),m(Y,"class","svelte-1oi7i0p"),m(at,"class","svelte-1oi7i0p"),m(it,"class","svelte-1oi7i0p"),m(B,"class","current-details svelte-1oi7i0p"),m(e,"class","weatherCurrent-data svelte-1oi7i0p"),m(n,"class","weatherCurrent-wrapper svelte-1oi7i0p")},m:function(t,s){g(t,n,s),y(n,e),y(e,r),y(r,a),y(r,c),y(r,o),y(o,i),y(e,P),y(e,x),y(x,$),y($,b),y(e,I),y(e,R),y(R,V),y(V,j),y(V,C),y(R,k),y(R,N),y(N,M),y(M,T),y(M,S),y(N,_),y(N,A),y(A,H),y(A,J),y(e,K),y(e,B),y(B,z),y(z,O),y(O,F),y(z,q),y(z,Z),y(Z,G),y(B,L),y(B,Q),y(Q,U),y(U,W),y(Q,X),y(Q,Y),y(Y,tt),y(Y,nt),y(B,et),y(B,rt),y(rt,at),y(at,ct),y(rt,ot),y(rt,it),y(it,st),y(it,ut)},p:function(t,n){var e=E(n,1)[0];1&e&&w(i,t[0]),2&e&&w(b,t[1]),4&e&&w(C,t[2]),16&e&&w(S,t[4]),8&e&&w(J,t[3]),32&e&&w(G,t[5]),128&e&&w(tt,t[7]),64&e&&w(st,t[6])},i:D,o:D,d:function(t){t&&v(n)}}}function _(t,n,e){var r,a,c=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(a,c){function o(t){try{s(r.next(t))}catch(t){c(t)}}function i(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,i)}s((r=r.apply(t,n||[])).next())}))},o=["January","February","March","April","May","June","July","August","September","October","November","December"],i="-",s="-",u="-",f="-",l="-",h="-",v="-",p="-";function d(t){r=t.coords.longitude,a=t.coords.latitude,function(t,n){c(this,void 0,void 0,x.mark((function r(){var a;return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=".concat(n,"&lon=").concat(t)).then((function(t){return t.json()}));case 2:a=r.sent,e(6,v=a.properties.timeseries[0].data.instant.details.cloud_area_fraction),e(7,p=a.properties.timeseries[0].data.instant.details.air_temperature);case 5:case"end":return r.stop()}}),r)})))}(r,a),function(t,n){c(this,void 0,void 0,x.mark((function r(){var a;return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("https://geocode.xyz/".concat(t,",").concat(n,"?geoit=json")),r.next=3,fetch("https://geocode.xyz/".concat(n,",").concat(t,"?geoit=json")).then((function(t){return t.json()}));case 3:a=r.sent,console.log(a),e(0,i=a.city);case 6:case"end":return r.stop()}}),r)})))}(r,a)}function m(t){g()}function g(){r=28.283333,a=-15.416667}return P((function(){!function(){c(this,void 0,void 0,x.mark((function t(){var n,r,a,c,i;return x.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,fetch("https://services.swpc.noaa.gov/products/summary/solar-wind-mag-field.json").then((function(t){return t.json()}));case 3:return t.t1=h=t.sent.Bz,(0,t.t0)(5,t.t1),t.next=7,fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json").then((function(t){return t.json()}));case 7:(n=t.sent).shift(),r=new Date,a=new Date(0,0,0),c=1e3,i=0,n.forEach((function(t,n){t[1]>i&&(i=t[1]),t[1]<c&&(c=t[1]);var o=new Date(t[0]);Math.abs(o.getTime()-r.getTime())<Math.abs(a.getTime()-r.getTime())&&(a=o,e(2,u=t[1]))})),e(3,f=c.toString()),e(4,l=i.toString()),e(1,s=a.getDay()+". "+o[a.getMonth()]+" "+a.getHours()+":"+a.getMinutes());case 17:case"end":return t.stop()}}),t)})))}(),navigator.geolocation?navigator.geolocation.getCurrentPosition(d,m):g()})),[i,s,u,f,l,h,v,p]}var A=function(n){t(s,i);var e=T(s);function s(t){var n;return r(this,s),n=e.call(this),a(o(n),t,_,S,c,{}),n}return s}();function H(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function J(t){var n,e,r,a,c,o,i,w,P,x,$,b,I=t[5]&&function(t){var n,e,r,a,c,o,i,E,w,P,x,$;return{c:function(){n=s("div"),e=s("p"),r=s("i"),a=u(),c=f(t[3]),o=f("°C"),i=u(),E=s("p"),w=s("i"),P=u(),x=f(t[4]),$=f("%"),this.h()},l:function(s){n=l(s,"DIV",{});var u=h(n);e=l(u,"P",{});var f=h(e);r=l(f,"I",{class:!0}),h(r).forEach(v),a=p(f),c=d(f,t[3]),o=d(f,"°C"),f.forEach(v),i=p(u),E=l(u,"P",{});var m=h(E);w=l(m,"I",{class:!0}),h(w).forEach(v),P=p(m),x=d(m,t[4]),$=d(m,"%"),m.forEach(v),u.forEach(v),this.h()},h:function(){m(r,"class","fas fa-thermometer-half"),m(w,"class","fas fa-cloud")},m:function(t,s){g(t,n,s),y(n,e),y(e,r),y(e,a),y(e,c),y(e,o),y(n,i),y(n,E),y(E,w),y(E,P),y(E,x),y(E,$)},p:D,d:function(t){t&&v(n)}}}(t);return{c:function(){n=s("div"),e=s("div"),r=s("h3"),a=f(t[2]),c=u(),o=s("p"),i=f(t[1]),w=u(),P=s("div"),x=s("h2"),$=f(t[0]),b=u(),I&&I.c(),this.h()},l:function(s){n=l(s,"DIV",{class:!0});var u=h(n);e=l(u,"DIV",{});var f=h(e);r=l(f,"H3",{class:!0});var m=h(r);a=d(m,t[2]),m.forEach(v),c=p(f),o=l(f,"P",{});var g=h(o);i=d(g,t[1]),g.forEach(v),f.forEach(v),w=p(u),P=l(u,"DIV",{class:!0});var y=h(P);x=l(y,"H2",{class:!0});var E=h(x);$=d(E,t[0]),E.forEach(v),b=p(y),I&&I.l(y),y.forEach(v),u.forEach(v),this.h()},h:function(){m(r,"class","svelte-u548p6"),m(x,"class","svelte-u548p6"),m(P,"class","data svelte-u548p6"),m(n,"class","prediction-details svelte-u548p6")},m:function(t,s){g(t,n,s),y(n,e),y(e,r),y(r,a),y(e,c),y(e,o),y(o,i),y(n,w),y(n,P),y(P,x),y(x,$),y(P,b),I&&I.m(P,null)},p:function(t,n){var e=E(n,1)[0];t[5]&&I.p(t,e)},i:D,o:D,d:function(t){t&&v(n),I&&I.d()}}}function K(t,n,e){var r=n.prediction,a=r.kp,c=r.time.split(" "),o=Number(c[0].split("-")[2])+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][Number(c[0].split("-")[1])],i=c[1].substring(0,5),s=r.temp,u=r.clouds,f=r.hasNOMETData;return t.$$set=function(t){"prediction"in t&&e(6,r=t.prediction)},[a,o,i,s,u,f,r]}var B=function(n){t(s,i);var e=H(s);function s(t){var n;return r(this,s),n=e.call(this),a(o(n),t,K,J,c,{prediction:6}),n}return s}();function z(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function O(t,n,e){var r=t.slice();return r[13]=n[e],r[15]=e,r}function F(t){var n,e,r,a,c;return{c:function(){n=s("div"),e=s("i"),r=u(),a=s("p"),c=f("No prediction data"),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var o=h(n);e=l(o,"I",{class:!0}),h(e).forEach(v),r=p(o),a=l(o,"P",{});var i=h(a);c=d(i,"No prediction data"),i.forEach(v),o.forEach(v),this.h()},h:function(){m(e,"class","fas fa-7x fa-exclamation-triangle"),m(n,"class","no-data svelte-1romtap")},m:function(t,o){g(t,n,o),y(n,e),y(n,r),y(n,a),y(a,c)},p:D,i:D,o:D,d:function(t){t&&v(n)}}}function q(t){for(var n,e,r,a,c,o,i=t[0],E=[],w=0;w<i.length;w+=1)E[w]=Z(O(t,i,w));var D=function(t){return b(E[t],1,1,(function(){E[t]=null}))};return{c:function(){n=s("div"),e=s("h2"),r=f("Predicted"),a=u(),c=s("div");for(var t=0;t<E.length;t+=1)E[t].c();this.h()},l:function(t){n=l(t,"DIV",{className:!0});var o=h(n);e=l(o,"H2",{class:!0});var i=h(e);r=d(i,"Predicted"),i.forEach(v),o.forEach(v),a=p(t),c=l(t,"DIV",{class:!0});for(var s=h(c),u=0;u<E.length;u+=1)E[u].l(s);s.forEach(v),this.h()},h:function(){m(e,"class","svelte-1romtap"),m(n,"classname","flex flex-row justify-between items-top"),m(c,"class","prediction-table svelte-1romtap")},m:function(t,i){g(t,n,i),y(n,e),y(e,r),g(t,a,i),g(t,c,i);for(var s=0;s<E.length;s+=1)E[s].m(c,null);o=!0},p:function(t,n){if(1&n){var e;for(i=t[0],e=0;e<i.length;e+=1){var r=O(t,i,e);E[e]?(E[e].p(r,n),R(E[e],1)):(E[e]=Z(r),E[e].c(),R(E[e],1),E[e].m(c,null))}for($(),e=i.length;e<E.length;e+=1)D(e);I()}},i:function(t){if(!o){for(var n=0;n<i.length;n+=1)R(E[n]);o=!0}},o:function(t){E=E.filter(Boolean);for(var n=0;n<E.length;n+=1)b(E[n]);o=!1},d:function(t){t&&v(n),t&&v(a),t&&v(c),N(E,t)}}}function Z(t){var n,e;return n=new B({props:{prediction:t[13]}}),{c:function(){V(n.$$.fragment)},l:function(t){j(n.$$.fragment,t)},m:function(t,r){C(n,t,r),e=!0},p:function(t,e){var r={};1&e&&(r.prediction=t[13]),n.$set(r)},i:function(t){e||(R(n.$$.fragment,t),e=!0)},o:function(t){b(n.$$.fragment,t),e=!1},d:function(t){k(n,t)}}}function G(t){var n,e,r,a,c=[q,F],o=[];function i(t,n){return t[0]?0:1}return e=i(t),r=o[e]=c[e](t),{c:function(){n=s("div"),r.c(),this.h()},l:function(t){n=l(t,"DIV",{class:!0});var e=h(n);r.l(e),e.forEach(v),this.h()},h:function(){m(n,"class","predicted-weather svelte-1romtap")},m:function(t,r){g(t,n,r),o[e].m(n,null),a=!0},p:function(t,a){var s=E(a,1)[0],u=e;(e=i(t))===u?o[e].p(t,s):($(),b(o[u],1,1,(function(){o[u]=null})),I(),(r=o[e])||(r=o[e]=c[e](t)).c(),R(r,1),r.m(n,null))},i:function(t){a||(R(r),a=!0)},o:function(t){b(r),a=!1},d:function(t){t&&v(n),o[e].d()}}}function L(t,n,e){var r,a,c,o=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(a,c){function o(t){try{s(r.next(t))}catch(t){c(t)}}function i(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var n;t.done?a(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,i)}s((r=r.apply(t,n||[])).next())}))},i=!1;function s(t,n){return o(this,void 0,void 0,x.mark((function r(){var a,o,s;return x.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!i){r.next=4;break}return r.next=3,fetch("https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=".concat(n,"&lon=").concat(t)).then((function(t){return t.json()}));case 3:a=r.sent;case 4:return r.next=6,fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json").then((function(t){return t.json()}));case 6:(o=r.sent).shift(),s=[],o.forEach((function(t,n){if("observed"!=t[2]){var e,r,c=new Date(t[0]),o=new Date(0,0,0);i&&a.properties.timeseries.forEach((function(t,n){var a=new Date(t.time);Math.abs(a.getTime()-c.getTime())<Math.abs(o.getTime()-c.getTime())&&(o=a,e=t.data.instant.details.air_temperature,r=t.data.instant.details.cloud_area_fraction)})),s.push({time:t[0],kp:t[1],temp:e,clouds:r,hasNOMETData:i})}})),e(0,c=s);case 11:case"end":return r.stop()}}),r)})))}function u(t){r=t.coords.longitude,a=t.coords.latitude,s(r,a)}function f(t){i=!1,l()}function l(){r=28.283333,a=-15.416667,s(0,0)}return P((function(){navigator.geolocation?(i=!0,navigator.geolocation.getCurrentPosition(u,f)):(i=!1,l())})),[c]}var Q=function(n){t(s,i);var e=z(s);function s(t){var n;return r(this,s),n=e.call(this),a(o(n),t,L,G,c,{}),n}return s}();function U(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,c=n(t);if(r){var o=n(this).constructor;a=Reflect.construct(c,arguments,o)}else a=c.apply(this,arguments);return e(this,a)}}function W(t){var n,e,r,a,c,o;return r=new A({}),c=new Q({}),{c:function(){n=u(),e=s("div"),V(r.$$.fragment),a=u(),V(c.$$.fragment),this.h()},l:function(t){M('[data-svelte="svelte-1q3846k"]',document.head).forEach(v),n=p(t),e=l(t,"DIV",{class:!0});var o=h(e);j(r.$$.fragment,o),a=p(o),j(c.$$.fragment,o),o.forEach(v),this.h()},h:function(){document.title="Aurora data",m(e,"class","homescreen svelte-pf4p6y")},m:function(t,i){g(t,n,i),g(t,e,i),C(r,e,null),y(e,a),C(c,e,null),o=!0},p:D,i:function(t){o||(R(r.$$.fragment,t),R(c.$$.fragment,t),o=!0)},o:function(t){b(r.$$.fragment,t),b(c.$$.fragment,t),o=!1},d:function(t){t&&v(n),t&&v(e),k(r),k(c)}}}var X=function(n){t(s,i);var e=U(s);function s(t){var n;return r(this,s),n=e.call(this),a(o(n),t,null,W,c,{}),n}return s}();export default X;
