import{S as a,i as t,s as e,e as s,c as l,a as n,d as r,b as c,f as i,g as o,n as d,w as u,h as p,t as h,j as f,k as m,l as v,m as g,o as w,p as _,q as b,r as E,u as $,v as k,x as D,y,z as I,A as j,B as V,C as O,D as x,E as P,F as T}from"./client.8dd81e75.js";function S(a){let t,e,u,p,h,f,m,v,g;return{c(){t=s("div"),e=s("div"),u=s("div"),p=s("div"),h=s("div"),f=s("div"),m=s("div"),v=s("div"),g=s("div"),this.h()},l(a){t=l(a,"DIV",{class:!0});var s=n(t);e=l(s,"DIV",{class:!0}),n(e).forEach(r),u=l(s,"DIV",{class:!0}),n(u).forEach(r),p=l(s,"DIV",{class:!0}),n(p).forEach(r),h=l(s,"DIV",{class:!0}),n(h).forEach(r),f=l(s,"DIV",{class:!0}),n(f).forEach(r),m=l(s,"DIV",{class:!0}),n(m).forEach(r),v=l(s,"DIV",{class:!0}),n(v).forEach(r),g=l(s,"DIV",{class:!0}),n(g).forEach(r),s.forEach(r),this.h()},h(){c(e,"class","svelte-7k6qu0"),c(u,"class","svelte-7k6qu0"),c(p,"class","svelte-7k6qu0"),c(h,"class","svelte-7k6qu0"),c(f,"class","svelte-7k6qu0"),c(m,"class","svelte-7k6qu0"),c(v,"class","svelte-7k6qu0"),c(g,"class","svelte-7k6qu0"),c(t,"class","lds-roller svelte-7k6qu0")},m(a,s){i(a,t,s),o(t,e),o(t,u),o(t,p),o(t,h),o(t,f),o(t,m),o(t,v),o(t,g)},p:d,i:d,o:d,d(a){a&&r(t)}}}class C extends a{constructor(a){super(),t(this,a,null,S,e,{})}}const M={updated:!1,updating:!0},q=u(Object.assign(Object.assign({},M),{available:!1,longitude:null,latitude:null,city:null})),N=u(Object.assign(Object.assign({},M),{available:!1})),B=u(Object.assign({},M));function z(a,t=!1){let e=t?{}:{updated:new Date};a.update((a=>Object.assign(Object.assign(Object.assign({},a),e),{updating:t})))}function A(a){let t,e,d,u,g=a[0].city+"";return{c(){t=s("i"),e=p(),d=s("h1"),u=h(g),this.h()},l(a){t=l(a,"I",{class:!0}),n(t).forEach(r),e=f(a),d=l(a,"H1",{class:!0});var s=n(d);u=m(s,g),s.forEach(r),this.h()},h(){c(t,"class","symbol fas fa-map-marker-alt svelte-9kdo4s"),c(d,"class","svelte-9kdo4s")},m(a,s){i(a,t,s),i(a,e,s),i(a,d,s),o(d,u)},p(a,t){1&t&&g!==(g=a[0].city+"")&&v(u,g)},d(a){a&&r(t),a&&r(e),a&&r(d)}}}function H(a){let t,e;function s(a,e){return 6&e&&(t=null),null==t&&(t=!!(Math.abs(a[1].updated-a[2].updated)>6e5)),t?J:K}let l=s(a,-1),n=l(a);return{c(){n.c(),e=g()},l(a){n.l(a),e=g()},m(a,t){n.m(a,t),i(a,e,t)},p(a,t){l===(l=s(a,t))&&n?n.p(a,t):(n.d(1),n=l(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&r(e)}}}function K(a){let t,e,c=a[1].updated.toLocaleString("no-NO",{dateStyle:"medium",timeStyle:"short"})+"";return{c(){t=s("p"),e=h(c)},l(a){t=l(a,"P",{});var s=n(t);e=m(s,c),s.forEach(r)},m(a,s){i(a,t,s),o(t,e)},p(a,t){2&t&&c!==(c=a[1].updated.toLocaleString("no-NO",{dateStyle:"medium",timeStyle:"short"})+"")&&v(e,c)},d(a){a&&r(t)}}}function J(a){let t,e;return{c(){t=s("p"),e=h("There is more than 10 minutes difference between data updates")},l(a){t=l(a,"P",{});var s=n(t);e=m(s,"There is more than 10 minutes difference between data updates"),s.forEach(r)},m(a,s){i(a,t,s),o(t,e)},p:d,d(a){a&&r(t)}}}function F(a){let t,e,u,g,w,_,b,E,$,k,D,y,I=a[2].now.kp+"",j=a[2].now.kp_max+"",V=a[2].now.kp_min+"";return{c(){t=s("h2"),e=h("KP "),u=h(I),g=p(),w=s("p"),_=s("span"),b=h("↑ KP "),E=h(j),$=p(),k=s("span"),D=h("↓ KP "),y=h(V),this.h()},l(a){t=l(a,"H2",{class:!0});var s=n(t);e=m(s,"KP "),u=m(s,I),s.forEach(r),g=f(a),w=l(a,"P",{});var c=n(w);_=l(c,"SPAN",{classname:!0});var i=n(_);b=m(i,"↑ KP "),E=m(i,j),i.forEach(r),$=f(c),k=l(c,"SPAN",{classname:!0});var o=n(k);D=m(o,"↓ KP "),y=m(o,V),o.forEach(r),c.forEach(r),this.h()},h(){c(t,"class","svelte-9kdo4s"),c(_,"classname","pr-2"),c(k,"classname","pl-2")},m(a,s){i(a,t,s),o(t,e),o(t,u),i(a,g,s),i(a,w,s),o(w,_),o(_,b),o(_,E),o(w,$),o(w,k),o(k,D),o(k,y)},p(a,t){4&t&&I!==(I=a[2].now.kp+"")&&v(u,I),4&t&&j!==(j=a[2].now.kp_max+"")&&v(E,j),4&t&&V!==(V=a[2].now.kp_min+"")&&v(y,V)},i:d,o:d,d(a){a&&r(t),a&&r(g),a&&r(w)}}}function L(a){let t,e;return t=new C({}),{c(){k(t.$$.fragment)},l(a){D(t.$$.fragment,a)},m(a,s){y(t,a,s),e=!0},p:d,i(a){e||(E(t.$$.fragment,a),e=!0)},o(a){_(t.$$.fragment,a),e=!1},d(a){I(t,a)}}}function U(a){let t,e,d,u,w,_,b,E,$,k,D,y,I,j,V,O=a[2].now.bz+"",x=a[2].now.bt+"",P=a[1].available&&Z(a);return{c(){t=s("div"),e=s("p"),d=h("BZ"),u=p(),w=s("p"),_=h(O),b=p(),E=s("div"),$=s("p"),k=h("BT"),D=p(),y=s("p"),I=h(x),j=p(),P&&P.c(),V=g(),this.h()},l(a){t=l(a,"DIV",{});var s=n(t);e=l(s,"P",{class:!0});var c=n(e);d=m(c,"BZ"),c.forEach(r),u=f(s),w=l(s,"P",{class:!0});var i=n(w);_=m(i,O),i.forEach(r),s.forEach(r),b=f(a),E=l(a,"DIV",{});var o=n(E);$=l(o,"P",{class:!0});var p=n($);k=m(p,"BT"),p.forEach(r),D=f(o),y=l(o,"P",{class:!0});var h=n(y);I=m(h,x),h.forEach(r),o.forEach(r),j=f(a),P&&P.l(a),V=g(),this.h()},h(){c(e,"class","svelte-9kdo4s"),c(w,"class","svelte-9kdo4s"),c($,"class","svelte-9kdo4s"),c(y,"class","svelte-9kdo4s")},m(a,s){i(a,t,s),o(t,e),o(e,d),o(t,u),o(t,w),o(w,_),i(a,b,s),i(a,E,s),o(E,$),o($,k),o(E,D),o(E,y),o(y,I),i(a,j,s),P&&P.m(a,s),i(a,V,s)},p(a,t){4&t&&O!==(O=a[2].now.bz+"")&&v(_,O),4&t&&x!==(x=a[2].now.bt+"")&&v(I,x),a[1].available?P?P.p(a,t):(P=Z(a),P.c(),P.m(V.parentNode,V)):P&&(P.d(1),P=null)},d(a){a&&r(t),a&&r(b),a&&r(E),a&&r(j),P&&P.d(a),a&&r(V)}}}function Z(a){let t,e,d,u,g,w,_,b,E,$,k,D,y,I,j,V=a[1].now.temp+"",O=a[1].now.clouds+"";return{c(){t=s("div"),e=s("p"),d=h("Temp"),u=p(),g=s("p"),w=h(V),_=h("°C"),b=p(),E=s("div"),$=s("p"),k=h("Clouds"),D=p(),y=s("p"),I=h(O),j=h("%"),this.h()},l(a){t=l(a,"DIV",{});var s=n(t);e=l(s,"P",{class:!0});var c=n(e);d=m(c,"Temp"),c.forEach(r),u=f(s),g=l(s,"P",{class:!0});var i=n(g);w=m(i,V),_=m(i,"°C"),i.forEach(r),s.forEach(r),b=f(a),E=l(a,"DIV",{});var o=n(E);$=l(o,"P",{class:!0});var p=n($);k=m(p,"Clouds"),p.forEach(r),D=f(o),y=l(o,"P",{class:!0});var h=n(y);I=m(h,O),j=m(h,"%"),h.forEach(r),o.forEach(r),this.h()},h(){c(e,"class","svelte-9kdo4s"),c(g,"class","svelte-9kdo4s"),c($,"class","svelte-9kdo4s"),c(y,"class","svelte-9kdo4s")},m(a,s){i(a,t,s),o(t,e),o(e,d),o(t,u),o(t,g),o(g,w),o(g,_),i(a,b,s),i(a,E,s),o(E,$),o($,k),o(E,D),o(E,y),o(y,I),o(y,j)},p(a,t){2&t&&V!==(V=a[1].now.temp+"")&&v(w,V),2&t&&O!==(O=a[1].now.clouds+"")&&v(I,O)},d(a){a&&r(t),a&&r(b),a&&r(E)}}}function G(a){let t,e,d,u,h,m,v,g,$,k,D,y,I=!a[0].updating&&a[0].available&&!a[1].updating&&!a[2].updating&&A(a),j=!a[1].updating&&!a[2].updating&&H(a);const V=[L,F],O=[];function x(a,t){return a[2].updating||a[1].updating?0:1}g=x(a),$=O[g]=V[g](a);let P=!a[2].updating&&!a[1].updating&&U(a);return{c(){t=s("div"),e=s("div"),d=s("div"),I&&I.c(),u=p(),h=s("div"),j&&j.c(),m=p(),v=s("div"),$.c(),k=p(),D=s("div"),P&&P.c(),this.h()},l(a){t=l(a,"DIV",{class:!0});var s=n(t);e=l(s,"DIV",{class:!0});var c=n(e);d=l(c,"DIV",{class:!0});var i=n(d);I&&I.l(i),i.forEach(r),u=f(c),h=l(c,"DIV",{class:!0});var o=n(h);j&&j.l(o),o.forEach(r),m=f(c),v=l(c,"DIV",{class:!0});var p=n(v);$.l(p),p.forEach(r),k=f(c),D=l(c,"DIV",{class:!0});var g=n(D);P&&P.l(g),g.forEach(r),c.forEach(r),s.forEach(r),this.h()},h(){c(d,"class","weatherCurrent-data-location svelte-9kdo4s"),c(h,"class","weatherCurrent-data-date"),c(v,"class","weatherCurrent-data-kp svelte-9kdo4s"),c(D,"class","current-details svelte-9kdo4s"),c(e,"class","weatherCurrent-data svelte-9kdo4s"),c(t,"class","weatherCurrent-wrapper svelte-9kdo4s")},m(a,s){i(a,t,s),o(t,e),o(e,d),I&&I.m(d,null),o(e,u),o(e,h),j&&j.m(h,null),o(e,m),o(e,v),O[g].m(v,null),o(e,k),o(e,D),P&&P.m(D,null),y=!0},p(a,[t]){a[0].updating||!a[0].available||a[1].updating||a[2].updating?I&&(I.d(1),I=null):I?I.p(a,t):(I=A(a),I.c(),I.m(d,null)),a[1].updating||a[2].updating?j&&(j.d(1),j=null):j?j.p(a,t):(j=H(a),j.c(),j.m(h,null));let e=g;g=x(a),g===e?O[g].p(a,t):(w(),_(O[e],1,1,(()=>{O[e]=null})),b(),$=O[g],$?$.p(a,t):($=O[g]=V[g](a),$.c()),E($,1),$.m(v,null)),a[2].updating||a[1].updating?P&&(P.d(1),P=null):P?P.p(a,t):(P=U(a),P.c(),P.m(D,null))},i(a){y||(E($),y=!0)},o(a){_($),y=!1},d(a){a&&r(t),I&&I.d(),j&&j.d(),O[g].d(),P&&P.d()}}}function Q(a,t,e){let s,l,n;return $(a,q,(a=>e(0,s=a))),$(a,N,(a=>e(1,l=a))),$(a,B,(a=>e(2,n=a))),[s,l,n]}!async function(){if("undefined"==typeof window)return;let a;z(q,!0);try{a=await async function(){return new Promise(((a,t)=>{"undefined"!=typeof navigator?navigator.geolocation.getCurrentPosition((t=>{a({longitude:t.coords.longitude,latitude:t.coords.latitude})}),(a=>{t(a)})):t(Error())}))}()}catch(a){return console.log(a),q.update((a=>Object.assign(Object.assign({},a),{available:!1,city:null,longitude:null,latitude:null}))),void z(q,!1)}let t=await fetch(`https://geocode.xyz/${a.latitude},${a.longitude}?geoit=json`),e=await t.json();q.update((t=>Object.assign(Object.assign(Object.assign({},t),{available:!0,city:e.city}),a))),z(q,!1)}(),q.subscribe((async function(a=null){if("undefined"==typeof window)return;if(null===a)return;if(a.updating)return;if(!a.available)return N.update((a=>Object.assign(Object.assign({},a),{available:!1}))),void z(N,!1);z(N,!0);let t=await fetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${a.latitude}&lon=${a.longitude}`),e=await t.json(),s={clouds:null,temp:null};try{s.clouds=e.properties.timeseries[0].data.instant.details.cloud_area_fraction,s.temp=e.properties.timeseries[0].data.instant.details.air_temperature,e.properties.timeseries=e.properties.timeseries.map((a=>Object.assign(Object.assign({},a),{time:new Date(a.time)})))}catch(a){}N.update((a=>Object.assign(Object.assign({},a),{yr_data_raw:e,now:s,available:!0}))),z(N,!1)})),async function(){if("undefined"==typeof window)return;z(B,!0);let a=await async function(){let a={now:{bz:"-",bt:"-",kp:"-",kp_min:"-",kp_max:"-"},usnoaa_data_raw:{solar_wind_mag_field:!1,noaa_planetary_k_index_forecast:!1}},t=await fetch("https://services.swpc.noaa.gov/products/summary/solar-wind-mag-field.json");a.usnoaa_data_raw.solar_wind_mag_field=await t.json(),a.usnoaa_data_raw.solar_wind_mag_field.TimeStamp=new Date(a.usnoaa_data_raw.solar_wind_mag_field.TimeStamp+" UTC"),a.now.bz=a.usnoaa_data_raw.solar_wind_mag_field.Bz,a.now.bt=a.usnoaa_data_raw.solar_wind_mag_field.Bt,t=await fetch("https://services.swpc.noaa.gov/products/noaa-planetary-k-index-forecast.json"),a.usnoaa_data_raw.noaa_planetary_k_index_forecast=await t.json(),a.usnoaa_data_raw.noaa_planetary_k_index_forecast.shift();let e=new Date,s=new Date(0,0,0),l=1e3,n=0;return a.usnoaa_data_raw.noaa_planetary_k_index_forecast.forEach(((t,r)=>{t[1]>n&&(n=t[1]),t[1]<l&&(l=t[1]);let c=new Date(t[0]+" UTC");Math.abs(c.getTime()-e.getTime())<Math.abs(s.getTime()-e.getTime())&&(s=c,a.now.kp=t[1]),a.usnoaa_data_raw.noaa_planetary_k_index_forecast[r]={time:c,kp:t[1],observed:t[2]}})),a.now.kp_min=l.toString(),a.now.kp_max=n.toString(),console.log(a),a}();B.update((t=>Object.assign(Object.assign({},t),a))),z(B,!1)}();class R extends a{constructor(a){super(),t(this,a,Q,G,e,{})}}function W(a){let t,e;const o=a[1].default,d=j(o,a,a[0],null);return{c(){t=s("div"),d&&d.c(),this.h()},l(a){t=l(a,"DIV",{class:!0});var e=n(t);d&&d.l(e),e.forEach(r),this.h()},h(){c(t,"class","chip svelte-6dfxfp")},m(a,s){i(a,t,s),d&&d.m(t,null),e=!0},p(a,[t]){d&&d.p&&(!e||1&t)&&V(d,o,a,a[0],e?x(o,a[0],t,null):O(a[0]),null)},i(a){e||(E(d,a),e=!0)},o(a){_(d,a),e=!1},d(a){a&&r(t),d&&d.d(a)}}}function X(a,t,e){let{$$slots:s={},$$scope:l}=t;return a.$$set=a=>{"$$scope"in a&&e(0,l=a.$$scope)},[l,s]}class Y extends a{constructor(a){super(),t(this,a,X,W,e,{})}}function aa(a){let t,e,o;return e=new Y({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}}),{c(){t=s("div"),k(e.$$.fragment),this.h()},l(a){t=l(a,"DIV",{class:!0});var s=n(t);D(e.$$.fragment,s),s.forEach(r),this.h()},h(){c(t,"class","svelte-ghmp86")},m(a,s){i(a,t,s),y(e,t,null),o=!0},p(a,t){const s={};257&t&&(s.$$scope={dirty:t,ctx:a}),e.$set(s)},i(a){o||(E(e.$$.fragment,a),o=!0)},o(a){_(e.$$.fragment,a),o=!1},d(a){a&&r(t),I(e)}}}function ta(a){let t,e=a[0].observed+"";return{c(){t=h(e)},l(a){t=m(a,e)},m(a,e){i(a,t,e)},p(a,s){1&s&&e!==(e=a[0].observed+"")&&v(t,e)},d(a){a&&r(t)}}}function ea(a){let t,e,u,v,g,$,k,D,y,I,j,V,O,x,P="predicted"!=a[0].observed&&aa(a),T=a[6]&&function(a){let t,e,u,v,g,w,_,b,E,$,k,D,y=Math.round(a[4])+"",I=Math.round(a[5])+"";return{c(){t=s("div"),e=s("p"),u=s("i"),v=p(),g=h(y),w=h("°C"),_=p(),b=s("p"),E=s("i"),$=p(),k=h(I),D=h("%"),this.h()},l(a){t=l(a,"DIV",{class:!0});var s=n(t);e=l(s,"P",{class:!0});var c=n(e);u=l(c,"I",{class:!0}),n(u).forEach(r),v=f(c),g=m(c,y),w=m(c,"°C"),c.forEach(r),_=f(s),b=l(s,"P",{class:!0});var i=n(b);E=l(i,"I",{class:!0}),n(E).forEach(r),$=f(i),k=m(i,I),D=m(i,"%"),i.forEach(r),s.forEach(r),this.h()},h(){c(u,"class","fas fa-thermometer-half svelte-ghmp86"),c(e,"class","svelte-ghmp86"),c(E,"class","fas fa-cloud svelte-ghmp86"),c(b,"class","svelte-ghmp86"),c(t,"class","svelte-ghmp86")},m(a,s){i(a,t,s),o(t,e),o(e,u),o(e,v),o(e,g),o(e,w),o(t,_),o(t,b),o(b,E),o(b,$),o(b,k),o(b,D)},p:d,d(a){a&&r(t)}}}(a);return{c(){t=s("div"),e=s("div"),u=s("h3"),v=h(a[3]),g=p(),$=s("p"),k=h(a[2]),D=p(),P&&P.c(),y=p(),I=s("div"),j=s("h2"),V=h(a[1]),O=p(),T&&T.c(),this.h()},l(s){t=l(s,"DIV",{class:!0});var c=n(t);e=l(c,"DIV",{class:!0});var i=n(e);u=l(i,"H3",{class:!0});var o=n(u);v=m(o,a[3]),o.forEach(r),g=f(i),$=l(i,"P",{class:!0});var d=n($);k=m(d,a[2]),d.forEach(r),i.forEach(r),D=f(c),P&&P.l(c),y=f(c),I=l(c,"DIV",{class:!0});var p=n(I);j=l(p,"H2",{class:!0});var h=n(j);V=m(h,a[1]),h.forEach(r),O=f(p),T&&T.l(p),p.forEach(r),c.forEach(r),this.h()},h(){c(u,"class","svelte-ghmp86"),c($,"class","svelte-ghmp86"),c(e,"class","svelte-ghmp86"),c(j,"class","svelte-ghmp86"),c(I,"class","data svelte-ghmp86"),c(t,"class","prediction-details svelte-ghmp86")},m(a,s){i(a,t,s),o(t,e),o(e,u),o(u,v),o(e,g),o(e,$),o($,k),o(t,D),P&&P.m(t,null),o(t,y),o(t,I),o(I,j),o(j,V),o(I,O),T&&T.m(I,null),x=!0},p(a,[e]){"predicted"!=a[0].observed?P?(P.p(a,e),1&e&&E(P,1)):(P=aa(a),P.c(),E(P,1),P.m(t,y)):P&&(w(),_(P,1,1,(()=>{P=null})),b()),a[6]&&T.p(a,e)},i(a){x||(E(P),x=!0)},o(a){_(P),x=!1},d(a){a&&r(t),P&&P.d(),T&&T.d()}}}function sa(a,t=2){let e=a;for(let s=0;s<t-a.length;s++)e="0"+e;return e}function la(a,t,e){let{prediction:s}=t;let l=s.kp,n=s.time.getDate()+". "+["January","February","March","April","May","June","July","August","September","October","November","December"][s.time.getMonth()],r=sa(s.time.getHours().toString())+":"+sa(s.time.getMinutes().toString()),c=s.temp,i=s.clouds,o=s.hasNOMETData;return a.$$set=a=>{"prediction"in a&&e(0,s=a.prediction)},[s,l,n,r,c,i,o]}class na extends a{constructor(a){super(),t(this,a,la,ea,e,{prediction:0})}}function ra(a,t,e){const s=a.slice();return s[5]=t[e],s[7]=e,s}function ca(a){let t,e,u,v,g;return{c(){t=s("div"),e=s("i"),u=p(),v=s("p"),g=h("No prediction data"),this.h()},l(a){t=l(a,"DIV",{class:!0});var s=n(t);e=l(s,"I",{class:!0}),n(e).forEach(r),u=f(s),v=l(s,"P",{});var c=n(v);g=m(c,"No prediction data"),c.forEach(r),s.forEach(r),this.h()},h(){c(e,"class","fas fa-7x fa-exclamation-triangle"),c(t,"class","no-data svelte-1romtap")},m(a,s){i(a,t,s),o(t,e),o(t,u),o(t,v),o(v,g)},p:d,i:d,o:d,d(a){a&&r(t)}}}function ia(a){let t,e,d,u,v,g,$=a[0],k=[];for(let t=0;t<$.length;t+=1)k[t]=oa(ra(a,$,t));const D=a=>_(k[a],1,1,(()=>{k[a]=null}));return{c(){t=s("div"),e=s("h2"),d=h("Predicted"),u=p(),v=s("div");for(let a=0;a<k.length;a+=1)k[a].c();this.h()},l(a){t=l(a,"DIV",{classname:!0});var s=n(t);e=l(s,"H2",{class:!0});var c=n(e);d=m(c,"Predicted"),c.forEach(r),s.forEach(r),u=f(a),v=l(a,"DIV",{class:!0});var i=n(v);for(let a=0;a<k.length;a+=1)k[a].l(i);i.forEach(r),this.h()},h(){c(e,"class","svelte-1romtap"),c(t,"classname","flex flex-row justify-between items-top"),c(v,"class","prediction-table svelte-1romtap")},m(a,s){i(a,t,s),o(t,e),o(e,d),i(a,u,s),i(a,v,s);for(let a=0;a<k.length;a+=1)k[a].m(v,null);g=!0},p(a,t){if(1&t){let e;for($=a[0],e=0;e<$.length;e+=1){const s=ra(a,$,e);k[e]?(k[e].p(s,t),E(k[e],1)):(k[e]=oa(s),k[e].c(),E(k[e],1),k[e].m(v,null))}for(w(),e=$.length;e<k.length;e+=1)D(e);b()}},i(a){if(!g){for(let a=0;a<$.length;a+=1)E(k[a]);g=!0}},o(a){k=k.filter(Boolean);for(let a=0;a<k.length;a+=1)_(k[a]);g=!1},d(a){a&&r(t),a&&r(u),a&&r(v),P(k,a)}}}function oa(a){let t,e;return t=new na({props:{prediction:a[5]}}),{c(){k(t.$$.fragment)},l(a){D(t.$$.fragment,a)},m(a,s){y(t,a,s),e=!0},p(a,e){const s={};1&e&&(s.prediction=a[5]),t.$set(s)},i(a){e||(E(t.$$.fragment,a),e=!0)},o(a){_(t.$$.fragment,a),e=!1},d(a){I(t,a)}}}function da(a){let t,e,o,d;const u=[ia,ca],p=[];function h(a,t){return a[0]?0:1}return e=h(a),o=p[e]=u[e](a),{c(){t=s("div"),o.c(),this.h()},l(a){t=l(a,"DIV",{class:!0});var e=n(t);o.l(e),e.forEach(r),this.h()},h(){c(t,"class","predicted-weather svelte-1romtap")},m(a,s){i(a,t,s),p[e].m(t,null),d=!0},p(a,[s]){let l=e;e=h(a),e===l?p[e].p(a,s):(w(),_(p[l],1,1,(()=>{p[l]=null})),b(),o=p[e],o?o.p(a,s):(o=p[e]=u[e](a),o.c()),E(o,1),o.m(t,null))},i(a){d||(E(o),d=!0)},o(a){_(o),d=!1},d(a){a&&r(t),p[e].d()}}}function ua(a,t,e){let s,l,n;async function r(){if(l.updating||s.updating)return void e(0,n=null);let a=l.usnoaa_data_raw.noaa_planetary_k_index_forecast.filter((a=>"observed"!==a.observed));e(0,n=a.map((a=>({time:a.time,kp:a.kp,observed:a.observed,temp:null,clouds:null,hasNOMETData:s.available})))),s.available&&n.forEach(((a,t)=>{let l,r,c=new Date(0,0,0);s.yr_data_raw.properties.timeseries.forEach(((t,e)=>{let s=new Date(t.time);Math.abs(s.getTime()-a.time.getTime())<Math.abs(c.getTime()-a.time.getTime())&&(c=s,l=t.data.instant.details.air_temperature,r=t.data.instant.details.cloud_area_fraction)})),e(0,n[t]=Object.assign(Object.assign({},n[t]),{temp:l,clouds:r}),n)}))}return $(a,N,(a=>e(1,s=a))),$(a,B,(a=>e(2,l=a))),B.subscribe(r),N.subscribe(r),[n]}class pa extends a{constructor(a){super(),t(this,a,ua,da,e,{})}}function ha(a){let t,e,u,h,m,v;return u=new R({}),m=new pa({}),{c(){t=p(),e=s("div"),k(u.$$.fragment),h=p(),k(m.$$.fragment),this.h()},l(a){T('[data-svelte="svelte-1q3846k"]',document.head).forEach(r),t=f(a),e=l(a,"DIV",{class:!0});var s=n(e);D(u.$$.fragment,s),h=f(s),D(m.$$.fragment,s),s.forEach(r),this.h()},h(){document.title="Aurora data",c(e,"class","homescreen svelte-pf4p6y")},m(a,s){i(a,t,s),i(a,e,s),y(u,e,null),o(e,h),y(m,e,null),v=!0},p:d,i(a){v||(E(u.$$.fragment,a),E(m.$$.fragment,a),v=!0)},o(a){_(u.$$.fragment,a),_(m.$$.fragment,a),v=!1},d(a){a&&r(t),a&&r(e),I(u),I(m)}}}class fa extends a{constructor(a){super(),t(this,a,null,ha,e,{})}}export{fa as default};
